(window.webpackJsonp=window.webpackJsonp||[]).push([[272],{389:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return i})),a.d(t,"rightToc",(function(){return u})),a.d(t,"default",(function(){return d}));var n=a(1),l=a(6),r=(a(0),a(943)),o=a(960),s=a(961),c={last_modified_on:"2020-06-02",title:"Global Options",description:"Vector's global options, allowing you configure global Vector-wide behavior."},i={id:"reference/global-options",title:"Global Options",description:"Vector's global options, allowing you configure global Vector-wide behavior.",source:"@site/docs/reference/global-options.md",permalink:"/docs/reference/global-options"},u=[{value:"Configuration",id:"configuration",children:[{value:"data_dir",id:"data_dir",children:[]},{value:"dns_servers",id:"dns_servers",children:[]},{value:"log_schema",id:"log_schema",children:[]}]},{value:"How It Works",id:"how-it-works",children:[{value:"Data Directory",id:"data-directory",children:[]}]}],m={rightToc:u};function d(e){var t=e.components,a=Object(l.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},m,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"In addition to ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/reference/sources/"}),"sources"),", ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/reference/transforms/"}),"transforms"),", and\n",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/reference/sinks/"}),"sinks"),", Vector accepts global options that serve to configure\nVector as a whole and set defaults for component options."),Object(r.b)("h2",{id:"configuration"},"Configuration"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-toml",metastring:'title="vector.toml"',title:'"vector.toml"'}),'# General\ndata_dir = "/var/lib/vector/" # optional, default\ndns_servers = ["0.0.0.0:53"] # optional, no default\n\n# Log schema\nlog_schema.host_key = "host" # optional, default\nlog_schema.message_key = "message" # optional, default\nlog_schema.source_type_key = "source_type" # optional, default\nlog_schema.timestamp_key = "timestamp" # optional, default\n')),Object(r.b)(o.a,{filters:!0,mdxType:"Fields"},Object(r.b)(s.a,{common:!1,defaultValue:"/var/lib/vector/",enumValues:null,examples:["/var/lib/vector","/var/local/lib/vector/","/home/user/vector/"],groups:[],name:"data_dir",path:null,relevantWhen:null,required:!1,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(r.b)("h3",{id:"data_dir"},"data_dir"),Object(r.b)("p",null,"The directory used for persisting Vector state, such as on-disk buffers, file\ncheckpoints, and more. Please make sure the Vector project has write\npermissions to this dir.\nSee ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#data-directory"}),"Data Directory")," for more info.")),Object(r.b)(s.a,{common:!1,defaultValue:null,enumValues:null,examples:[["0.0.0.0:53"]],groups:[],name:"dns_servers",path:null,relevantWhen:null,required:!1,templateable:!1,type:"[string]",unit:null,warnings:[],mdxType:"Field"},Object(r.b)("h3",{id:"dns_servers"},"dns_servers"),Object(r.b)("p",null,"The list of DNS servers Vector will use to resolve DNS requests. When set\nVector will ignore the system configuration and use only the list of DNS\nservers provided. If this option is not set then Vector will attempt to use the\nsystem configuration.")),Object(r.b)(s.a,{common:!1,defaultValue:null,enumValues:null,examples:[],groups:[],name:"log_schema",path:null,relevantWhen:null,required:!1,templateable:!1,type:"table",unit:null,warnings:[],mdxType:"Field"},Object(r.b)("h3",{id:"log_schema"},"log_schema"),Object(r.b)("p",null,"The default log schema that all Vector components operate on. See the ","[log data\nmodel page][docs.data-model.log]"," for more info."),Object(r.b)(o.a,{filters:!1,mdxType:"Fields"},Object(r.b)(s.a,{common:!1,defaultValue:"host",enumValues:null,examples:["host","@host","instance","machine"],groups:[],name:"host_key",path:"log_schema",relevantWhen:null,required:!1,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(r.b)("h4",{id:"host_key"},"host_key"),Object(r.b)("p",null,"The key used to hold the log host. See the ","[log data model\npage][docs.data-model.log#host]"," for more info.")),Object(r.b)(s.a,{common:!1,defaultValue:"message",enumValues:null,examples:["message","@message","msg"],groups:[],name:"message_key",path:"log_schema",relevantWhen:null,required:!1,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(r.b)("h4",{id:"message_key"},"message_key"),Object(r.b)("p",null,"The key used to hold the log message. See the ","[log data model\npage][docs.data-model.log#message]"," for more info.")),Object(r.b)(s.a,{common:!1,defaultValue:"source_type",enumValues:null,examples:["source_type","@source_type","src_ty"],groups:[],name:"source_type_key",path:"log_schema",relevantWhen:null,required:!1,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(r.b)("h4",{id:"source_type_key"},"source_type_key"),Object(r.b)("p",null,"The key used to hold the log source type. See the ","[log data model\npage][docs.data-model.log#source_type]"," for more info.")),Object(r.b)(s.a,{common:!1,defaultValue:"timestamp",enumValues:null,examples:["timestamp","@timestamp","datetime"],groups:[],name:"timestamp_key",path:"log_schema",relevantWhen:null,required:!1,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(r.b)("h4",{id:"timestamp_key"},"timestamp_key"),Object(r.b)("p",null,"The key used to represent when the log was generated. See the ","[log data model\npage][docs.data-model.log#timestamp]"," for more info."))))),Object(r.b)("h2",{id:"how-it-works"},"How It Works"),Object(r.b)("h3",{id:"data-directory"},"Data Directory"),Object(r.b)("p",null,"Vector requires a ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#data_dir"}),Object(r.b)("inlineCode",{parentName:"a"},"data_dir"))," value for on-disk operations. Currently, the only\noperation using this directory are Vector's on-disk buffers. Buffers, by\ndefault, are memory-based, but if you switch them to disk-based you'll need to\nspecify a ",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#data_dir"}),Object(r.b)("inlineCode",{parentName:"a"},"data_dir")),"."))}d.isMDXComponent=!0},954:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(953),o=a(950),s=a.n(o);a(93);t.a=function({className:e,size:t,style:a,text:n}){return l.a.createElement(r.a,{to:"/vic/",className:s()("vic","vic--"+t,e)},l.a.createElement("div",{className:"icon"},l.a.createElement("img",{src:`/img/vicmojis/vic${a}.svg`,alt:"Vic - The Vector Mascot"})),n&&l.a.createElement("div",{className:"text"},n))}},955:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=(a(953),a(954));t.a=function({text:e}){return l.a.createElement("section",{className:"empty"},l.a.createElement(r.a,{style:"no",text:e}))}},956:function(e,t,a){"use strict";a(12);var n=a(0),l=a.n(n),r=a(959),o=a.n(r);t.a=function({currentState:e,humanize:t,icon:a,name:n,setState:r,values:s}){if(0==s.size)return null;let c=Array.from(s);return l.a.createElement(l.a.Fragment,null,c.map((s,c)=>{let i="string"==typeof s&&t?o()(s):s;return l.a.createElement("label",{key:c},l.a.createElement("input",{checked:e.has(s),name:n,onChange:t=>{let a=new Set(e);t.currentTarget.checked?a.add(s):a.delete(s),r(a)},type:"checkbox"}),i&&l.a.createElement(l.a.Fragment,null,a?l.a.createElement("i",{className:"feather icon-"+a}):""," ",i))}))}},960:function(e,t,a){"use strict";a(12);var n=a(0),l=a.n(n),r=a(956),o=a(955),s=a(962),c=a.n(s);t.a=function({children:e,filters:t}){const[a,s]=Object(n.useState)(!1),[i,u]=Object(n.useState)(new Set),[m,d]=Object(n.useState)(!1),[p,h]=Object(n.useState)(null);let b=[];e&&(b=Array.isArray(e)?e:[e]);let g=b.some(e=>e.props.common),f=c()(b).flatMap(e=>e.props.groups).uniq().value(),y=b.some(e=>e.props.required),v=b;return a&&(v=v.filter(e=>e.props.common)),i.size>0&&(v=v.filter(e=>Array.from(i).every(t=>e.props.groups.includes(t)))),m&&(v=v.filter(e=>e.props.required)),p&&(v=v.filter(e=>e.props.name.toLowerCase().includes(p.toLowerCase()))),l.a.createElement(l.a.Fragment,null,b.length>1&&!1!==t?l.a.createElement("div",{className:"filters"},l.a.createElement("div",{className:"search"},l.a.createElement("span",{className:"search--result-count"},v.length," items"),l.a.createElement("input",{className:"input--text input--lg",type:"text",onChange:e=>h(e.currentTarget.value),placeholder:"\ud83d\udd0d Search..."})),l.a.createElement("div",{className:"filter"},l.a.createElement("div",{className:"filter--choices"},l.a.createElement(r.a,{values:f,currentState:i,setState:u}),g&&l.a.createElement("label",{title:"Only show popular/common results"},l.a.createElement("input",{type:"checkbox",onChange:e=>s(e.currentTarget.checked),checked:a}),"common"),y&&l.a.createElement("label",{title:"Only show required results"},l.a.createElement("input",{type:"checkbox",onChange:e=>d(e.currentTarget.checked),checked:m}),"required")))):null,!Array.isArray(v)||v.length>0?l.a.createElement("ul",{className:"connected-list"},v):l.a.createElement(o.a,{text:"no components found"}))}},961:function(e,t,a){"use strict";a(12);var n=a(0),l=a.n(n),r=a(950),o=a.n(r),s=(a(943),a(968));function c(e){return e.includes(".")?'"'+e+'"':e}function i(e){return"string"==typeof e&&e.includes("\n")?`"""\n${e}\n"""`:JSON.stringify(e)}function u(e,t){return(a=t)&&a.constructor===Object?"name"in t&&"value"in t?`${c(t.name)} = ${i(t.value)}`:`${c(Object.keys(t)[0])} = ${i(Object.values(t)[0])}`:e?`${c(e)} = ${i(t)}`:i(t);var a}function m({values:e}){let t=[];if(Array.isArray(e))for(var a in e){let n=e[a];t.push(l.a.createElement("code",{key:n},i(n))),t.push(" ")}else for(var n in e)t.push(l.a.createElement("code",{key:n,className:"with-info-icon",title:e[n]},i(n))),t.push(" ");return t}function d({name:e,path:t,values:a}){let n="";return a.forEach((function(a){t&&(n+=t+"."),n+=u(e,a)+"\n"})),l.a.createElement("div",null,l.a.createElement(s.a,{className:"language-toml"},n))}function p({unit:e,value:t}){let a="";return e&&(a=l.a.createElement(l.a.Fragment,null," (",e,")")),l.a.createElement(l.a.Fragment,null,l.a.createElement("code",null,i(t)),a)}function h({value:e}){let t=Object.keys(e)[0],a=Object.values(e)[0];return""==a&&(a=null),l.a.createElement("span",null,l.a.createElement("code",null,l.a.createElement("a",{href:"#"+t},t))," ","= ",l.a.createElement("code",null,i(a)))}function b({defaultValue:e,enumValues:t,examples:a,groups:r,name:o,path:s,relevantWhen:c,required:i,unit:u,warnings:b}){const[g,f]=Object(n.useState)(!1);return l.a.createElement("ul",{className:"info"},b&&b.length>0&&b.map((e,t)=>l.a.createElement("li",{key:t,className:"warning"},l.a.createElement("i",{className:"feather icon-alert-triangle"})," WARNING:"," ",e.text)),c&&l.a.createElement("li",null,"Only ",i?"required":"relevant"," when:"," ",l.a.createElement(h,{value:c})),void 0!==e?null!==e?l.a.createElement("li",null,"Default: ",l.a.createElement(p,{unit:u,value:e})):l.a.createElement("li",null,"No default"):null,t&&l.a.createElement("li",null,"Enum, must be one of: ",l.a.createElement(m,{values:t})),(a.length>1||a[0]!=e)&&l.a.createElement("li",null,l.a.createElement("div",{className:"show-more",onClick:()=>f(!g)},g?"Hide examples":"View examples"),g&&l.a.createElement(d,{name:o,path:s,values:a})))}t.a=function({children:e,common:t,defaultValue:a,enumValues:r,examples:s,groups:c,name:i,path:u,relevantWhen:m,required:d,templateable:p,type:h,unit:g,warnings:f}){const[y,v]=Object(n.useState)(!1);let O=e;return y&&(O=O.filter(e=>"p"!=e.props.originalType)),l.a.createElement("li",{className:o()({"field-required":d,"field-collapsed":y}),required:d},l.a.createElement("div",{className:"badges"},p&&l.a.createElement("span",{className:"badge badge--primary with-info-icon",title:"This option is dynamic and accepts the Vector template syntax"},"templateable"),h&&l.a.createElement("span",{className:"badge badge--secondary"},h,g&&l.a.createElement(l.a.Fragment,null," (",g,")")),r&&Object.keys(r).length>0&&l.a.createElement("span",{className:"badge badge--secondary with-info-icon",title:"This option is an enumation and only allows specific values"},"enum"),t&&l.a.createElement("span",{className:"badge badge--primary with-info-icon",title:"This is a popular that we recommend for getting started"},"common"),d?l.a.createElement("span",{className:"badge badge--danger"},"required",m&&"*"):l.a.createElement("span",{className:"badge badge--secondary"},"optional")),O,!y&&"table"!=h&&l.a.createElement(b,{defaultValue:a,enumValues:r,examples:s,groups:c,name:i,path:u,relevantWhen:m,required:d,unit:g,warnings:f}))}}}]);