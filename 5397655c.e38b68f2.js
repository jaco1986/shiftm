(window.webpackJsonp=window.webpackJsonp||[]).push([[285],{397:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return s})),n.d(t,"metadata",(function(){return m})),n.d(t,"rightToc",(function(){return d})),n.d(t,"default",(function(){return b}));var a=n(1),l=n(6),r=(n(0),n(927)),i=n(944),c=n(945),o=n(943),u=n(942),s={last_modified_on:"2020-05-21",delivery_guarantee:"at_least_once",component_title:"Generator",description:"The Vector `generator` source ingests data through an internal data generator and outputs `log` events.",event_types:["log"],function_category:"test",issues_url:"https://github.com/timberio/vector/issues?q=is%3Aopen+is%3Aissue+label%3A%22source%3A+generator%22",operating_systems:["Linux","MacOS","Windows"],sidebar_label:'generator|["log"]',source_url:"https://github.com/timberio/vector/tree/master/src/sources/generator.rs",status:"prod-ready",title:"Generator Source",unsupported_operating_systems:[]},m={id:"reference/sources/generator",title:"Generator Source",description:"The Vector `generator` source ingests data through an internal data generator and outputs `log` events.",source:"@site/docs/reference/sources/generator.md",permalink:"/docs/reference/sources/generator",sidebar_label:'generator|["log"]'},d=[{value:"Configuration",id:"configuration",children:[]},{value:"Options",id:"options",children:[{value:"batch_interval",id:"batch_interval",children:[]},{value:"count",id:"count",children:[]},{value:"lines",id:"lines",children:[]},{value:"sequence",id:"sequence",children:[]}]},{value:"How It Works",id:"how-it-works",children:[{value:"Environment Variables",id:"environment-variables",children:[]}]}],p={rightToc:d};function b(e){var t=e.components,n=Object(l.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"The Vector ",Object(r.b)("inlineCode",{parentName:"p"},"generator")," source\ningests data through an internal data generator and outputs\n","[",Object(r.b)("inlineCode",{parentName:"p"},"log"),"][docs.data-model.log]"," events."),Object(r.b)("h2",{id:"configuration"},"Configuration"),Object(r.b)(o.a,{block:!0,defaultValue:"common",values:[{label:"Common",value:"common"},{label:"Advanced",value:"advanced"}],mdxType:"Tabs"},Object(r.b)(u.a,{value:"common",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-toml",metastring:'title="vector.toml"',title:'"vector.toml"'}),'[sources.my_source_id]\n  type = "generator" # required\n  lines = ["Line 1", "Line 2"] # required\n'))),Object(r.b)(u.a,{value:"advanced",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-toml",metastring:'title="vector.toml"',title:'"vector.toml"'}),'[sources.my_source_id]\n  type = "generator" # required\n  batch_interval = 1.0 # optional, no default\n  count = "infinite" # optional, default\n  lines = ["Line 1", "Line 2"] # required\n  sequence = false # optional, default\n')))),Object(r.b)("h2",{id:"options"},"Options"),Object(r.b)(i.a,{filters:!0,mdxType:"Fields"},Object(r.b)(c.a,{common:!1,defaultValue:null,enumValues:null,examples:[1],groups:[],name:"batch_interval",path:null,relevantWhen:null,required:!1,templateable:!1,type:"float",unit:null,warnings:[],mdxType:"Field"},Object(r.b)("h3",{id:"batch_interval"},"batch_interval"),Object(r.b)("p",null,"The amount of time, in seconds, to pause between each batch of output lines. If\nnot set, there will be no delay.")),Object(r.b)(c.a,{common:!1,defaultValue:"infinite",enumValues:null,examples:["infinite"],groups:[],name:"count",path:null,relevantWhen:null,required:!1,templateable:!1,type:"uint",unit:null,warnings:[],mdxType:"Field"},Object(r.b)("h3",{id:"count"},"count"),Object(r.b)("p",null,"The number of times to repeat outputting the ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"#lines"}),Object(r.b)("inlineCode",{parentName:"a"},"lines")),".")),Object(r.b)(c.a,{common:!0,defaultValue:null,enumValues:null,examples:[["Line 1","Line 2"]],groups:[],name:"lines",path:null,relevantWhen:null,required:!0,templateable:!1,type:"[string]",unit:null,warnings:[],mdxType:"Field"},Object(r.b)("h3",{id:"lines"},"lines"),Object(r.b)("p",null,"The list of lines to output.")),Object(r.b)(c.a,{common:!1,defaultValue:!1,enumValues:null,examples:[!1,!0],groups:[],name:"sequence",path:null,relevantWhen:null,required:!1,templateable:!1,type:"bool",unit:null,warnings:[],mdxType:"Field"},Object(r.b)("h3",{id:"sequence"},"sequence"),Object(r.b)("p",null,"If ",Object(r.b)("inlineCode",{parentName:"p"},"true"),", each output line will start with an increasing sequence number."))),Object(r.b)("h2",{id:"how-it-works"},"How It Works"),Object(r.b)("h3",{id:"environment-variables"},"Environment Variables"),Object(r.b)("p",null,"Environment variables are supported through all of Vector's configuration.\nSimply add ",Object(r.b)("inlineCode",{parentName:"p"},"${MY_ENV_VAR}")," in your Vector configuration file and the variable\nwill be replaced before being evaluated."),Object(r.b)("p",null,"You can learn more in the\n",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/setup/configuration/#environment-variables"}),"Environment Variables")," section."))}b.isMDXComponent=!0},939:function(e,t,n){"use strict";var a=n(0),l=n.n(a);n(937);t.a=function(e){return e.text,l.a.createElement("section",{className:"empty"})}},941:function(e,t,n){"use strict";n(12);var a=n(0),l=n.n(a),r=n(950),i=n.n(r);t.a=function({currentState:e,humanize:t,icon:n,name:a,setState:r,values:c}){if(0==c.size)return null;let o=Array.from(c);return l.a.createElement(l.a.Fragment,null,o.map((c,o)=>{let u="string"==typeof c&&t?i()(c):c;return l.a.createElement("label",{key:o},l.a.createElement("input",{checked:e.has(c),name:a,onChange:t=>{let n=new Set(e);t.currentTarget.checked?n.add(c):n.delete(c),r(n)},type:"checkbox"}),u&&l.a.createElement(l.a.Fragment,null,n?l.a.createElement("i",{className:"feather icon-"+n}):""," ",u))}))}},944:function(e,t,n){"use strict";n(12);var a=n(0),l=n.n(a),r=n(941),i=n(939),c=n(948),o=n.n(c);t.a=function({children:e,filters:t}){const[n,c]=Object(a.useState)(!1),[u,s]=Object(a.useState)(new Set),[m,d]=Object(a.useState)(!1),[p,b]=Object(a.useState)(null);let h=[];e&&(h=Array.isArray(e)?e:[e]);let g=h.some(e=>e.props.common),f=o()(h).flatMap(e=>e.props.groups).uniq().value(),v=h.some(e=>e.props.required),y=h;return n&&(y=y.filter(e=>e.props.common)),u.size>0&&(y=y.filter(e=>Array.from(u).every(t=>e.props.groups.includes(t)))),m&&(y=y.filter(e=>e.props.required)),p&&(y=y.filter(e=>e.props.name.toLowerCase().includes(p.toLowerCase()))),l.a.createElement(l.a.Fragment,null,h.length>1&&!1!==t?l.a.createElement("div",{className:"filters"},l.a.createElement("div",{className:"search"},l.a.createElement("span",{className:"search--result-count"},y.length," items"),l.a.createElement("input",{className:"input--text input--lg",type:"text",onChange:e=>b(e.currentTarget.value),placeholder:"\ud83d\udd0d Search..."})),l.a.createElement("div",{className:"filter"},l.a.createElement("div",{className:"filter--choices"},l.a.createElement(r.a,{values:f,currentState:u,setState:s}),g&&l.a.createElement("label",{title:"Only show popular/common results"},l.a.createElement("input",{type:"checkbox",onChange:e=>c(e.currentTarget.checked),checked:n}),"common"),v&&l.a.createElement("label",{title:"Only show required results"},l.a.createElement("input",{type:"checkbox",onChange:e=>d(e.currentTarget.checked),checked:m}),"required")))):null,!Array.isArray(y)||y.length>0?l.a.createElement("ul",{className:"connected-list"},y):l.a.createElement(i.a,{text:"no components found"}))}},945:function(e,t,n){"use strict";n(12);var a=n(0),l=n.n(a),r=n(936),i=n.n(r),c=(n(927),n(951));function o(e){return e.includes(".")?'"'+e+'"':e}function u(e){return"string"==typeof e&&e.includes("\n")?`"""\n${e}\n"""`:JSON.stringify(e)}function s(e,t){return(n=t)&&n.constructor===Object?"name"in t&&"value"in t?`${o(t.name)} = ${u(t.value)}`:`${o(Object.keys(t)[0])} = ${u(Object.values(t)[0])}`:e?`${o(e)} = ${u(t)}`:u(t);var n}function m({values:e}){let t=[];if(Array.isArray(e))for(var n in e){let a=e[n];t.push(l.a.createElement("code",{key:a},u(a))),t.push(" ")}else for(var a in e)t.push(l.a.createElement("code",{key:a,className:"with-info-icon",title:e[a]},u(a))),t.push(" ");return t}function d({name:e,path:t,values:n}){let a="";return n.forEach((function(n){t&&(a+=t+"."),a+=s(e,n)+"\n"})),l.a.createElement("div",null,l.a.createElement(c.a,{className:"language-toml"},a))}function p({unit:e,value:t}){let n="";return e&&(n=l.a.createElement(l.a.Fragment,null," (",e,")")),l.a.createElement(l.a.Fragment,null,l.a.createElement("code",null,u(t)),n)}function b({value:e}){let t=Object.keys(e)[0],n=Object.values(e)[0];return""==n&&(n=null),l.a.createElement("span",null,l.a.createElement("code",null,l.a.createElement("a",{href:"#"+t},t))," ","= ",l.a.createElement("code",null,u(n)))}function h({defaultValue:e,enumValues:t,examples:n,groups:r,name:i,path:c,relevantWhen:o,required:u,unit:s,warnings:h}){const[g,f]=Object(a.useState)(!1);return l.a.createElement("ul",{className:"info"},h&&h.length>0&&h.map((e,t)=>l.a.createElement("li",{key:t,className:"warning"},l.a.createElement("i",{className:"feather icon-alert-triangle"})," WARNING:"," ",e.text)),o&&l.a.createElement("li",null,"Only ",u?"required":"relevant"," when:"," ",l.a.createElement(b,{value:o})),void 0!==e?null!==e?l.a.createElement("li",null,"Default: ",l.a.createElement(p,{unit:s,value:e})):l.a.createElement("li",null,"No default"):null,t&&l.a.createElement("li",null,"Enum, must be one of: ",l.a.createElement(m,{values:t})),(n.length>1||n[0]!=e)&&l.a.createElement("li",null,l.a.createElement("div",{className:"show-more",onClick:()=>f(!g)},g?"Hide examples":"View examples"),g&&l.a.createElement(d,{name:i,path:c,values:n})))}t.a=function({children:e,common:t,defaultValue:n,enumValues:r,examples:c,groups:o,name:u,path:s,relevantWhen:m,required:d,templateable:p,type:b,unit:g,warnings:f}){const[v,y]=Object(a.useState)(!1);let E=e;return v&&(E=E.filter(e=>"p"!=e.props.originalType)),l.a.createElement("li",{className:i()({"field-required":d,"field-collapsed":v}),required:d},l.a.createElement("div",{className:"badges"},p&&l.a.createElement("span",{className:"badge badge--primary with-info-icon",title:"This option is dynamic and accepts the Vector template syntax"},"templateable"),b&&l.a.createElement("span",{className:"badge badge--secondary"},b,g&&l.a.createElement(l.a.Fragment,null," (",g,")")),r&&Object.keys(r).length>0&&l.a.createElement("span",{className:"badge badge--secondary with-info-icon",title:"This option is an enumation and only allows specific values"},"enum"),t&&l.a.createElement("span",{className:"badge badge--primary with-info-icon",title:"This is a popular that we recommend for getting started"},"common"),d?l.a.createElement("span",{className:"badge badge--danger"},"required",m&&"*"):l.a.createElement("span",{className:"badge badge--secondary"},"optional")),E,!v&&"table"!=b&&l.a.createElement(h,{defaultValue:n,enumValues:r,examples:c,groups:o,name:u,path:s,relevantWhen:m,required:d,unit:g,warnings:f}))}}}]);