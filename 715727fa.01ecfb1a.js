(window.webpackJsonp=window.webpackJsonp||[]).push([[445],{601:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return r})),a.d(t,"rightToc",(function(){return s})),a.d(t,"default",(function(){return d}));var n=a(1),i=(a(0),a(1118)),o=a(1153),l=a(1152);const c={last_modified_on:"2020-06-09",title:"Validating",description:"How to validation Vector's configuration to ensure it is error free before applying it."},r={id:"administration/validating",title:"Validating",description:"How to validation Vector's configuration to ensure it is error free before applying it.",source:"@site/docs/administration/validating.md",permalink:"/docs/administration/validating",sidebar:"docs",previous:{title:"Updating",permalink:"/docs/administration/updating"}},s=[],b={rightToc:s};function d({components:e,...t}){return Object(i.b)("wrapper",Object(n.a)({},b,t,{components:e,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Vector provides a subcommand ",Object(i.b)("inlineCode",{parentName:"p"},"validate")," which checks the validity of any number\nof configuration files and then exits:"),Object(i.b)(o.a,{block:!0,defaultValue:"all",values:[{label:"All Checks",value:"all"},{label:"Config Only",value:"config"}],mdxType:"Tabs"},Object(i.b)(l.a,{value:"all",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"vector validate /etc/vector/vector.toml\n"))),Object(i.b)(l.a,{value:"config",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"vector validate --no-environment --no-topology /etc/vector/*.toml\n")))),Object(i.b)("p",null,"The validate subcommand checks the correctness of fields for components defined\nwithin a configuration file, including:"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"All ",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/reference/sources/"}),"sources"),", ",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/reference/transforms/"}),"transforms"),", and\n",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/reference/sinks/"}),"sinks")," include all non-optional fields."),Object(i.b)("li",{parentName:"ol"},"All fields are of the proper ",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/setup/configuration/#types"}),"type"),".")),Object(i.b)("p",null,"The following group of checks verifies that the configuration file contains a valid topology,\ndisabled with flags such as ",Object(i.b)("inlineCode",{parentName:"p"},"--no-topology"),", expanding the above checks with the following:"),Object(i.b)("ol",{start:3},Object(i.b)("li",{parentName:"ol"},"At least one ",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/reference/sources/"}),"source")," is defined."),Object(i.b)("li",{parentName:"ol"},"At least one ",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/reference/sinks/"}),"sink")," is defined."),Object(i.b)("li",{parentName:"ol"},"All ",Object(i.b)("inlineCode",{parentName:"li"},"inputs")," values contain at least one value (cannot be empty)."),Object(i.b)("li",{parentName:"ol"},"All ",Object(i.b)("inlineCode",{parentName:"li"},"inputs")," values reference valid and upstream ",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/reference/sources/"}),"source")," or\n",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/reference/transforms/"}),"transform")," components.")),Object(i.b)("p",null,"The following group of checks require the runtime environment to pass successfully,\ndisabled with flags such as ",Object(i.b)("inlineCode",{parentName:"p"},"--no-environment"),", expanding the above checks with the following:"),Object(i.b)("ol",{start:7},Object(i.b)("li",{parentName:"ol"},"All components are capable of running (data directories exist, are writable, etc)."),Object(i.b)("li",{parentName:"ol"},"All ",Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/reference/sinks/"}),"sinks")," are able to connect to their targets.")),Object(i.b)("p",null,"If validation fails, Vector will exit with a ",Object(i.b)("inlineCode",{parentName:"p"},"78"),", and if validation succeeds\nVector will exit with a ",Object(i.b)("inlineCode",{parentName:"p"},"0"),"."),Object(i.b)("p",null,"To see other customization options for the ",Object(i.b)("inlineCode",{parentName:"p"},"validate")," subcommand run\n",Object(i.b)("inlineCode",{parentName:"p"},"vector validate --help"),"."))}d.isMDXComponent=!0}}]);