<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.54">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Shift'M Support Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Shift'M Support Blog Atom Feed">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu|Roboto|Source+Code+Pro">
<link rel="stylesheet" href="https://at-ui.github.io/feather-font/css/iconfont.css">

<title data-react-helmet="true">Log to Metric Transform | Docs | Shift&#x27;M Support</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="Shift&#x27;M Support"><meta data-react-helmet="true" property="og:image" content="https://jaco1986.github.io/img/open-graph.png"><meta data-react-helmet="true" property="twitter:image" content="https://jaco1986.github.io/img/open-graph.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Shift&#x27;M Support"><meta data-react-helmet="true" name="twitter:site" content="@vectordotdev"><meta data-react-helmet="true" name="twitter:creator" content="@vectordotdev"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="The Vector `log_to_metric` transform accepts `log` events, but outputs [`metric`](#metric) events, allowing you to convert logs into one or more metrics."><meta data-react-helmet="true" property="og:description" content="The Vector `log_to_metric` transform accepts `log` events, but outputs [`metric`](#metric) events, allowing you to convert logs into one or more metrics."><meta data-react-helmet="true" property="og:url" content="https://jaco1986.github.io/docs/reference/transforms/log_to_metric">

<link data-react-helmet="true" rel="shortcut icon" href="/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://vector.dev/docs/reference/transforms/log_to_metric/">


<link rel="stylesheet" href="/styles.17a2da04.css">


<link rel="preload" href="/styles.20b89b9a.js" as="script">

<link rel="preload" href="/runtime~main.47ad3585.js" as="script">

<link rel="preload" href="/main.458df6d0.js" as="script">

<link rel="preload" href="/common.be92d9d2.js" as="script">

<link rel="preload" href="/3.b29079e0.js" as="script">

<link rel="preload" href="/4.4c1e307d.js" as="script">

<link rel="preload" href="/1be78505.7ea9b262.js" as="script">

<link rel="preload" href="/20ac7829.4659796a.js" as="script">

<link rel="preload" href="/17896441.33c9095d.js" as="script">

<link rel="preload" href="/2.68d41f7b.js" as="script">

<link rel="preload" href="/d35c1ae2.e22c7178.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_2ZIa"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"></a><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/guides/">Guides</a><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/guides/">Guides</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/highlights/">Highlights</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/community/">Community</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/releases/">Download<span class="badge badge--primary">new</span></a></li><li class="menu__list-item"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/timberio/vector">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="container_3Vzv container container--l"><div class="sidebar_dgnY"><div class="docs-sidebar sidebar_25T_"><a class="sidebarLogo_3JkW" href="/"></a><div class="menu menu--responsive menu_1e9D"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_1hKf" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><div class="title">About</div><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" activeclassname="menu__link--active" href="/docs/about/">hidden</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/about/what-is-shiftm/">What is Shift&#x27;M?</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/about/concepts/">Concepts</a></li><li class="menu__list-item menu__list-item--collapsed"><a activeclassname="menu__link--active" class="menu__link menu__link--sublist" href="/docs/about/data-model/">Data Model</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" activeclassname="menu__link--active" href="/docs/about/data-model/">hidden</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/about/data-model/log/">Log Event</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/about/data-model/metric/">Metric Event</a></li></ul></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/about/guarantees/">Guarantees</a></li></ul></li><li class="menu__list-item"><div class="title">Setup</div><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/">hidden</a></li><li class="menu__list-item menu__list-item--collapsed"><a activeclassname="menu__link--active" class="menu__link menu__link--sublist" href="/docs/setup/installation/">Installation</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/installation/">hidden</a></li><li class="menu__list-item menu__list-item--collapsed"><a activeclassname="menu__link--active" class="menu__link menu__link--sublist" href="/docs/setup/installation/package-managers/">Package Managers</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/installation/package-managers/">hidden</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/installation/package-managers/dpkg/">DPKG</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/installation/package-managers/homebrew/">Homebrew</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/installation/package-managers/msi/">MSI</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/installation/package-managers/nix/">Nix</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/installation/package-managers/rpm/">RPM</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a activeclassname="menu__link--active" class="menu__link menu__link--sublist" href="/docs/setup/installation/platforms/">Platforms</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/installation/platforms/">hidden</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/installation/platforms/docker/">Docker</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a activeclassname="menu__link--active" class="menu__link menu__link--sublist" href="/docs/setup/installation/operating-systems/">Operating Systems</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/installation/operating-systems/">hidden</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/installation/operating-systems/amazon-linux/">Amazon Linux</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/installation/operating-systems/centos/">CentOS</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/installation/operating-systems/debian/">Debian</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/installation/operating-systems/macos/">MacOS</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/installation/operating-systems/nixos/">NixOS</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/installation/operating-systems/rhel/">RHEL</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/installation/operating-systems/raspbian/">Raspbian</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/installation/operating-systems/ubuntu/">Ubuntu</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/installation/operating-systems/windows/">Windows</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a activeclassname="menu__link--active" class="menu__link menu__link--sublist" href="/docs/setup/installation/manual/">Manual</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/installation/manual/">hidden</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/installation/manual/from-archives/">From Archives</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/installation/manual/from-source/">From Source</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/configuration/">Configuration</a></li><li class="menu__list-item menu__list-item--collapsed"><a activeclassname="menu__link--active" class="menu__link menu__link--sublist" href="/docs/setup/deployment/">Deployment</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/deployment/">hidden</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/deployment/strategies/">Strategies</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/setup/deployment/topologies/">Topologies</a></li></ul></li></ul></li><li class="menu__list-item"><div class="title">Reference</div><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/">hidden</a></li><li class="menu__list-item menu__list-item--collapsed"><a activeclassname="menu__link--active" class="menu__link menu__link--sublist" href="/docs/reference/sources/">Sources</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sources/">hidden</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sources/docker/">docker<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sources/file/">file<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sources/generator/">generator<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sources/http/">http<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sources/journald/">journald<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sources/kafka/">kafka<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sources/logplex/">logplex<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sources/prometheus/">prometheus<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sources/socket/">socket<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sources/splunk_hec/">splunk_hec<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sources/statsd/">statsd<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sources/stdin/">stdin<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sources/syslog/">syslog<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sources/vector/">vector<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li></ul></li><li class="menu__list-item"><a activeclassname="menu__link--active" class="menu__link menu__link--sublist" href="/docs/reference/transforms/">Transforms</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/">hidden</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/add_fields/">add_fields<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/add_tags/">add_tags<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/ansi_stripper/">ansi_stripper<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/aws_ec2_metadata/">aws_ec2_metadata<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/coercer/">coercer<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/concat/">concat<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/dedupe/">dedupe<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/filter/">filter<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/geoip/">geoip<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/grok_parser/">grok_parser<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/json_parser/">json_parser<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/log_to_metric/">log_to_metric<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/logfmt_parser/">logfmt_parser<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/lua/">lua<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/merge/">merge<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/regex_parser/">regex_parser<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/remove_fields/">remove_fields<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/remove_tags/">remove_tags<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/rename_fields/">rename_fields<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/sampler/">sampler<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/split/">split<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/swimlanes/">swimlanes<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/tag_cardinality_limit/">tag_cardinality_limit<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/tokenizer/">tokenizer<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/transforms/wasm/">wasm<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a activeclassname="menu__link--active" class="menu__link menu__link--sublist" href="/docs/reference/sinks/">Sinks</a><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/">hidden</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/aws_cloudwatch_logs/">aws_cloudwatch_logs<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/aws_cloudwatch_metrics/">aws_cloudwatch_metrics<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/aws_kinesis_firehose/">aws_kinesis_firehose<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/aws_kinesis_streams/">aws_kinesis_streams<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/aws_s3/">aws_s3<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/blackhole/">blackhole<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/clickhouse/">clickhouse<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/console/">console<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/datadog_logs/">datadog_logs<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/datadog_metrics/">datadog_metrics<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/elasticsearch/">elasticsearch<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/file/">file<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/gcp_cloud_storage/">gcp_cloud_storage<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/gcp_pubsub/">gcp_pubsub<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/gcp_stackdriver_logs/">gcp_stackdriver_logs<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/honeycomb/">honeycomb<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/http/">http<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/humio_logs/">humio_logs<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/influxdb_logs/">influxdb_logs<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/influxdb_metrics/">influxdb_metrics<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/kafka/">kafka<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/logdna/">logdna<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/loki/">loki<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/new_relic_logs/">new_relic_logs<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/papertrail/">papertrail<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/prometheus/">prometheus<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/pulsar/">pulsar<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/sematext_logs/">sematext_logs<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/socket/">socket<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/splunk_hec/">splunk_hec<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/statsd/">statsd<span class="badges"><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/sinks/vector/">vector<span class="badges"><span class="badge badge--secondary" title="This component works with log events.">L</span><span class="badge badge--secondary" title="This component works with metric events.">M</span></span></a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a activeclassname="menu__link--active" class="menu__link menu__link--sublist" href="/docs/reference/env-vars/">Advanced</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/env-vars/">Env Vars</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/field-path-notation/">Field Path Notation</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/global-options/">Global Options</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/templating/">Templating</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/reference/tests/">Unit Tests</a></li></ul></li></ul></li><li class="menu__list-item"><div class="title">Administration</div><ul class="menu__list"><li class="menu__list-item menu__list-item-hidden"><a class="menu__link" activeclassname="menu__link--active" href="/docs/administration/">hidden</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/administration/process-management/">Process Management</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/administration/monitoring/">Monitoring</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/administration/tuning/">Tuning</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/administration/updating/">Updating</a></li><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/administration/validating/">Validating</a></li></ul></li><li class="menu__list-item"><div class="title">Meta</div><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" activeclassname="menu__link--active" href="/docs/meta/glossary/">Glossary</a></li><li class="menu__list-item"><a class="menu__link" to="https://github.com/timberio/vector/blob/master/PRIVACY.md/" target="_blank" rel="noreferrer noopener" href="https://github.com/timberio/vector/blob/master/PRIVACY.md/">Privacy</a></li><li class="menu__list-item"><a class="menu__link" to="https://github.com/timberio/vector/security/policy/" target="_blank" rel="noreferrer noopener" href="https://github.com/timberio/vector/security/policy/">Security</a></li></ul></li></ul></div></div></div><main class="main_2vyu"><div><div class="container_2j_u"><div class="leftCol_3JzO"><div class="docItemContainer_"><article><header><div class="badges"><a class="badge badge--primary" href="/components?functions[]=convert">convert</a></div><h1 class="docTitle_cWlf">Log to Metric Transform</h1></header><div class="markdown"><p>The Vector <code>log_to_metric</code> transform
accepts <a href="/docs/about/data-model/log/"><code>log</code></a> events, but outputs
<a href="/docs/about/data-model/metric/"><code>metric</code></a> events, allowing you to convert logs into
one or more metrics.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration" title="Direct link to heading">#</a>Configuration</h2><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2TQJ">vector.toml</div><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb copyButtonWithTitle_qt-P">Copy</button><pre class="prism-code language-toml codeBlock_1wn8 codeBlockWithTitle_1f_H"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">transforms.log_to_metric</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;log_to_metric&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">transforms.log_to_metric.metrics</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;histogram&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">field</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;time&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">name</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;time_ms&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># optional</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">tags.status</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{{status}}&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># optional</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">tags.host</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{{host}}&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># optional</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">tags.env</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;${ENV}&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># optional</span></div></div></pre></div></div><ul class="connected-list"><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">[table]</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="metrics"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#metrics" title="Direct link to heading">#</a>metrics</h3><p>A table of key/value pairs representing the keys to be added to the event.</p><ul class="connected-list"><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="field"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#field" title="Direct link to heading">#</a>field</h4><p>The log field to use as the metric.
See <a href="#null-fields">Null Fields</a> for more info.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li><div class="badges"><span class="badge badge--secondary">bool</span><span class="badge badge--secondary">optional</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="increment_by_value"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#increment_by_value" title="Direct link to heading">#</a>increment_by_value</h4><p>If <code>true</code> the metric will be incremented by the <a href="#field"><code>field</code></a> value. If <code>false</code> the
metric will be incremented by 1 regardless of the <a href="#field"><code>field</code></a> value.</p><ul class="info"><li>Only relevant when: <span><code><a href="#type">type</a></code> = <code>&quot;counter&quot;</code></span></li><li>Default: <code>false</code></li><li><div class="show-more">View examples</div></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="name"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#name" title="Direct link to heading">#</a>name</h4><p>The name of the metric. Defaults to <code>&lt;field&gt;_total</code> for <code>counter</code> and <code>&lt;field&gt;</code>
for <code>gauge</code>.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li><div class="badges"><span class="badge badge--secondary">table</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">optional</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="tags"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#tags" title="Direct link to heading">#</a>tags</h4><p>Key/value pairs representing <a href="/docs/about/data-model/metric/#tags">metric tags</a>.</p><ul class="connected-list"><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="tag-name"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#tag-name" title="Direct link to heading">#</a><code>[tag-name]</code></h5><p>Key/value pairs representing <a href="/docs/about/data-model/metric/#tags">metric tags</a>.
Environment variables and field interpolation is allowed.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--secondary with-info-icon" title="This option is an enumation and only allows specific values">enum</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="type"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#type" title="Direct link to heading">#</a>type</h4><p>The metric type.</p><ul class="info"><li>No default</li><li>Enum, must be one of: <code class="with-info-icon" title="A [counter metric type][docs.data-model.metric#counter].">&quot;counter&quot;</code> <code class="with-info-icon" title="A [gauge metric type][docs.data-model.metric#gauge].">&quot;gauge&quot;</code> <code class="with-info-icon" title="A [distribution metric type][docs.data-model.metric#distribution].">&quot;histogram&quot;</code> <code class="with-info-icon" title="A [set metric type][docs.data-model.metric#set].">&quot;set&quot;</code> </li><li><div class="show-more">View examples</div></li></ul></li></ul><ul class="info"><li>No default</li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="examples"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#examples" title="Direct link to heading">#</a>Examples</h2><div class="margin-bottom--md"><div><ul role="tablist" aria-orientation="horizontal" class="tabs tabs--block"><li role="tab" tabindex="0" aria-selected="true" class="tab-item tab-item--active">Histograms</li><li role="tab" tabindex="0" aria-selected="false" class="tab-item">Counts</li><li role="tab" tabindex="0" aria-selected="false" class="tab-item">Sums</li><li role="tab" tabindex="0" aria-selected="false" class="tab-item">Gauges</li><li role="tab" tabindex="0" aria-selected="false" class="tab-item">Set</li></ul></div></div><p>This example demonstrates capturing timings in your logs.</p><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2TQJ">log event</div><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb copyButtonWithTitle_qt-P">Copy</button><pre class="prism-code language-json codeBlock_1wn8 codeBlockWithTitle_1f_H"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;host&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;10.22.11.222&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Sent 200 in 54.2ms&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;status&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;time&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">54.2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></pre></div></div><p>You can convert the <code>time</code> field into a <code>distribution</code> metric:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-toml codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">transforms.log_to_metric</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;log_to_metric&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">transforms.log_to_metric.metrics</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;histogram&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">field</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;time&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">name</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;time_ms&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># optional</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">tags.status</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{{status}}&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># optional</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">tags.host</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{{host}}&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># optional</span></div></div></pre></div></div><p>A <a href="/docs/about/data-model/metric/"><code>metric</code> event</a> will be output with the following
structure:</p><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2TQJ">metric event</div><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb copyButtonWithTitle_qt-P">Copy</button><pre class="prism-code language-javascript codeBlock_1wn8 codeBlockWithTitle_1f_H"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;time_ms&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;kind&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;incremental&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;tags&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;status&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;200&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;host&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;10.22.11.222&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;distribution&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;values&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">54.2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;sample_rates&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1.0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></pre></div></div><p>This metric will then proceed down the pipeline, and depending on the sink,
will be aggregated in Vector (such is the case for the <a href="/docs/reference/sinks/prometheus/"><code>prometheus</code> sink</a>) or will be aggregated in the store itself.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="how-it-works"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-it-works" title="Direct link to heading">#</a>How It Works</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="complex-processing"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#complex-processing" title="Direct link to heading">#</a>Complex Processing</h3><p>If you encounter limitations with the <code>log_to_metric</code>
transform then we recommend using a <a href="https://vector.dev/components/?functions%5B%5D=program">runtime transform</a>.
These transforms are designed for complex processing and give you the power of
full programming runtime.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="environment-variables"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#environment-variables" title="Direct link to heading">#</a>Environment Variables</h3><p>Environment variables are supported through all of Vector&#x27;s configuration.
Simply add <code>${MY_ENV_VAR}</code> in your Vector configuration file and the variable
will be replaced before being evaluated.</p><p>You can learn more in the
<a href="/docs/setup/configuration/#environment-variables">Environment Variables</a> section.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="multiple-metrics"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#multiple-metrics" title="Direct link to heading">#</a>Multiple Metrics</h3><p>For clarification, when you convert a single <code>log</code> event into multiple <a href="#metric"><code>metric</code></a>
events, the <a href="#metric"><code>metric</code></a> events are not emitted as a single array. They are emitted
individually, and the downstream components treat them as individual events.
Downstream components are not aware they were derived from a single log event.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="null-fields"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#null-fields" title="Direct link to heading">#</a>Null Fields</h3><p>If the target log <a href="#field"><code>field</code></a> contains a <code>null</code> value it will ignored, and a metric
will not be emitted.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="reducing"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#reducing" title="Direct link to heading">#</a>Reducing</h3><p>It&#x27;s important to understand that this transform does not reduce multiple logs
into a single metric. Instead, this transform converts logs into granular
individual metrics that can then be reduced at the edge. Where the reduction
happens depends on your metrics storage. For example, the
<a href="/docs/reference/sinks/prometheus/"><code>prometheus</code> sink</a> will reduce logs in the sink itself
for the next scrape, while other metrics sinks will proceed to forward the
individual metrics for reduction in the metrics storage itself.</p></div></article></div><div class="paginator_3VDt"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/reference/transforms/json_parser"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« JSON Parser Transform</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/reference/transforms/logfmt_parser"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">Logfmt Parser Transform »</h4></a></div></nav></div></div><div class="rightCol_38kP"><div class="table-of-contents tableOfContents_tVyB"><div class="section"><div class="title">Support</div><div><a class="text--primary" title="This component has passed reliability standards that make it production ready. Click to learn more." href="/docs/about/guarantees/#prod-ready"><i class="feather icon-award"></i> Prod-Ready Status</a></div><div><a title="This component works on the these event types." href="/docs/about/data-model/"><i class="feather icon-database"></i> <span class="text--primary">Log</span><span>, </span><span class="text--primary">Metric</span></a></div><div><a title="This component works on the Linux, MacOS, Windows operating systems." href="/docs/setup/installation/operating-systems/"><i class="feather icon-cpu"></i> <span class="text--primary">Linux</span><span>, </span><span class="text--primary">MacOS</span><span>, </span><span class="text--primary">Windows</span></a></div></div><div class="section"><div class="title">Contents</div><ul class="contents"><li><a href="#configuration" class="contents__link">Configuration</a><ul><li><a href="#metrics" class="contents__link">metrics</a></li></ul></li><li><a href="#examples" class="contents__link">Examples</a></li><li><a href="#how-it-works" class="contents__link">How It Works</a><ul><li><a href="#complex-processing" class="contents__link">Complex Processing</a></li><li><a href="#environment-variables" class="contents__link">Environment Variables</a></li><li><a href="#multiple-metrics" class="contents__link">Multiple Metrics</a></li><li><a href="#null-fields" class="contents__link">Null Fields</a></li><li><a href="#reducing" class="contents__link">Reducing</a></li></ul></li></ul></div><div class="section"><div class="title">Resources</div><ul class="contents"><li><a href="https://github.com/timberio/vector/edit/master/website/docs/reference/transforms/log_to_metric.md" class="contents__link" target="_blank"><i class="feather icon-edit-1"></i> Edit this page</a></li><li><a href="https://github.com/timberio/vector/issues?q=is%3Aopen+is%3Aissue+label%3A%22transform%3A+log_to_metric%22" class="contents__link" target="_blank"><i class="feather icon-message-circle"></i> View Issues</a></li><li><a href="https://github.com/timberio/vector/tree/master/src/transforms/log_to_metric.rs" class="contents__link" target="_blank"><i class="feather icon-github"></i> View Source</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">About</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/about/what-is-shiftm/">What is Shift&#x27;M?</a></li><li class="footer__item"><a class="footer__link-item" href="/community/#team">Terms and Conditions</a></li><li class="footer__item"><a class="footer__link-item" to="https://shiftm.com/contact" href="https://shiftm.com/contact">Contact Us</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Mobile</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://www.apple.com/ios/app-store">App Store</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://play.google.com/store?hl=en">Play Store</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://facebook.com/shiftmhealthcare">Facebook</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://instagram.com/shiftm_">Instagram</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://twitter.com/ShiftM_">Twitter</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://linkedIn.com/company/Shift-m">LinkedIn</a></li><li class="footer__item"><a class="footer__link-item" href="/mailing_list/">Mailing List</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://shiftm.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_3L_r"></a></div>Copyright © 2020 Shift&#x27;M B.V<br></div></div></footer>
</div>

<script src="/styles.20b89b9a.js"></script>

<script src="/runtime~main.47ad3585.js"></script>

<script src="/main.458df6d0.js"></script>

<script src="/common.be92d9d2.js"></script>

<script src="/3.b29079e0.js"></script>

<script src="/4.4c1e307d.js"></script>

<script src="/1be78505.7ea9b262.js"></script>

<script src="/20ac7829.4659796a.js"></script>

<script src="/17896441.33c9095d.js"></script>

<script src="/2.68d41f7b.js"></script>

<script src="/d35c1ae2.e22c7178.js"></script>


</body>
</html>