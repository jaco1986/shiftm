<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.54">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Shift'M Support Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Shift'M Support Blog Atom Feed">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu|Roboto|Source+Code+Pro">
<link rel="stylesheet" href="https://at-ui.github.io/feather-font/css/iconfont.css">

<title data-react-helmet="true">Unit Tests | Docs | Shift&#x27;M Support</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="Shift&#x27;M Support"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="Vector&#x27;s unit test configuration options, allowing you to unit test your Vector configuration files."><meta data-react-helmet="true" property="og:description" content="Vector&#x27;s unit test configuration options, allowing you to unit test your Vector configuration files."><meta data-react-helmet="true" property="og:url" content="https://jaco1986.github.io/docs/reference/tests">

<link data-react-helmet="true" rel="shortcut icon" href="/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://shiftm.com/docs/reference/tests/">


<link rel="stylesheet" href="/styles.2b3d096f.css">


<link rel="preload" href="/styles.34e80712.js" as="script">

<link rel="preload" href="/runtime~main.00c8b622.js" as="script">

<link rel="preload" href="/main.1b8ce7e9.js" as="script">

<link rel="preload" href="/common.a51457ff.js" as="script">

<link rel="preload" href="/2.198bf9bf.js" as="script">

<link rel="preload" href="/4.1035aa38.js" as="script">

<link rel="preload" href="/1be78505.225a9b35.js" as="script">

<link rel="preload" href="/20ac7829.95d9c5c8.js" as="script">

<link rel="preload" href="/17896441.6a978b24.js" as="script">

<link rel="preload" href="/3.2d737a5c.js" as="script">

<link rel="preload" href="/5d4eddc9.eeb47a56.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_2ZIa"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"></a><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/guides/">Guides</a><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/guides/">Guides</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/highlights/">News</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/community/">Community</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="container_3Vzv container container--l"><main class="main_2vyu"><div><div class="container_2j_u"><div class="leftCol_3JzO"><div class="docItemContainer_"><article><header><div class="badges"></div><h1 class="docTitle_cWlf">Unit Tests</h1></header><div class="markdown"><p>It&#x27;s possible to define unit tests within a Vector configuration file that cover
a network of transforms within the topology. The intention of these tests is to
improve the maintainability of configs containing larger and more complex
combinations of transforms.</p><p>Executing tests within a config file can be done with the <code>test</code> subcommand:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-bash codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">vector </span><span class="token builtin class-name">test</span><span class="token plain"> /etc/vector/*.toml</span></div></div></pre></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration" title="Direct link to heading">#</a>Configuration</h2><div class="margin-bottom--md"><div><ul role="tablist" aria-orientation="horizontal" class="tabs tabs--block"><li role="tab" tabindex="0" aria-selected="true" class="tab-item tab-item--active">Common</li><li role="tab" tabindex="0" aria-selected="false" class="tab-item">Advanced</li></ul></div></div><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2TQJ">vector.toml</div><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb copyButtonWithTitle_qt-P">Copy</button><pre class="prism-code language-toml codeBlock_1wn8 codeBlockWithTitle_1f_H"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">transforms.foo</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;regex_parser&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">regex</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^(?P&lt;timestamp&gt;[\\w\\-:\\+]+) (?P&lt;level&gt;\\w+) (?P&lt;message&gt;.*)$&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">tests</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Inputs</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">tests.inputs</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">insert_at</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;foo&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># required</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;raw&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># required</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">value</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;some message contents&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># required, required when type = &quot;raw&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># General</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">name</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;foo test&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># required</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Outputs</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">tests.outputs</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Conditions</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">conditions.type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;check_fields&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># optional, default</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">conditions.&quot;message.eq&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;this is the content to match against&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># example</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">conditions.&quot;message.eq&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;match this&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;or this&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># example</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">conditions.&quot;message.contains&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;foo&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># example</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">conditions.&quot;message.contains&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;foo&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;bar&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># example</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">conditions.&quot;environment.ends_with&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;-staging&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># example</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">conditions.&quot;environment.ends_with&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;-staging&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;-running&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># example</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">conditions.&quot;message.regex&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot; (any|of|these|five|words) &quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># example</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">conditions.&quot;environment.starts_with&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;staging-&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># example</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">conditions.&quot;environment.starts_with&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;staging-&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;running-&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># example</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># General</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">extract_from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;foo&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># required</span></div></div></pre></div></div><p>For more information about unit tests check out <a href="/guides/advanced/calendar/">this guide</a>.</p><div class="filters"><div class="search"><span class="search--result-count">4 items</span><input class="input--text input--lg" placeholder="ðŸ” Search..."></div><div class="filter"><div class="filter--choices"><label title="Only show popular/common results"><input type="checkbox">common</label><label title="Only show required results"><input type="checkbox">required</label></div></div></div><ul class="connected-list"><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">[table]</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="inputs"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#inputs" title="Direct link to heading">#</a>inputs</h3><p>A table that defines a unit test input event.</p><ul class="connected-list"><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="insert_at"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#insert_at" title="Direct link to heading">#</a>insert_at</h4><p>The name of a transform, the input event will be delivered to this transform in
order to begin the test.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">table</span><span class="badge badge--danger">required*</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="log_fields"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#log_fields" title="Direct link to heading">#</a>log_fields</h4><p>Specifies the log fields when the input type is &#x27;log&#x27;.</p><ul class="connected-list"><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">*</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="field-name"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#field-name" title="Direct link to heading">#</a><code>[field-name]</code></h5><p>A key/value pair representing a field to be added to the input event.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">table</span><span class="badge badge--danger">required*</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="metric"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#metric" title="Direct link to heading">#</a>metric</h4><p>Specifies the metric type when the input type is &#x27;metric&#x27;.</p><ul class="connected-list"><li><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--secondary with-info-icon" title="This option is an enumation and only allows specific values">enum</span><span class="badge badge--secondary">optional</span></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="direction"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#direction" title="Direct link to heading">#</a>direction</h5><p>The direction to increase or decrease the gauge value.</p><ul class="info"><li>No default</li><li>Enum, must be one of: <code class="with-info-icon" title="Increase the gauge">&quot;plus&quot;</code> <code class="with-info-icon" title="Decrease the gauge">&quot;minus&quot;</code> </li><li><div class="show-more">View examples</div></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="name"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#name" title="Direct link to heading">#</a>name</h5><p>The name of the metric. Defaults to <code>&lt;field&gt;_total</code> for <code>counter</code> and <code>&lt;field&gt;</code>
for <code>gauge</code>.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li><div class="badges"><span class="badge badge--secondary">float</span><span class="badge badge--secondary">optional</span></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="sample_rate"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#sample_rate" title="Direct link to heading">#</a>sample_rate</h5><p>The bucket/distribution the metric is a part of.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li><div class="badges"><span class="badge badge--secondary">table</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">optional</span></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="tags"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#tags" title="Direct link to heading">#</a>tags</h5><p>Key/value pairs representing [metric tags][docs.data-model.metric#tags].</p><ul class="connected-list"><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h6><a aria-hidden="true" tabindex="-1" class="anchor" id="tag-name"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#tag-name" title="Direct link to heading">#</a><code>[tag-name]</code></h6><p>Key/value pairs representing [metric tags][docs.data-model.metric#tags].</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="timestamp"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#timestamp" title="Direct link to heading">#</a>timestamp</h5><p>Time metric was created/ingested.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--secondary with-info-icon" title="This option is an enumation and only allows specific values">enum</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="type"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#type" title="Direct link to heading">#</a>type</h5><p>The metric type.</p><ul class="info"><li>No default</li><li>Enum, must be one of: <code class="with-info-icon" title="A [counter metric type][docs.data-model.metric#counter].">&quot;counter&quot;</code> <code class="with-info-icon" title="A [gauge metric type][docs.data-model.metric#gauge].">&quot;gauge&quot;</code> <code class="with-info-icon" title="A [distribution metric type][docs.data-model.metric#distribution].">&quot;histogram&quot;</code> <code class="with-info-icon" title="A [set metric type][docs.data-model.metric#set].">&quot;set&quot;</code> </li><li><div class="show-more">View examples</div></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">float</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="val"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#val" title="Direct link to heading">#</a>val</h5><p>Amount to increment/decrement or gauge.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--secondary with-info-icon" title="This option is an enumation and only allows specific values">enum</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="type-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#type-1" title="Direct link to heading">#</a>type</h4><p>The event type.</p><ul class="info"><li>No default</li><li>Enum, must be one of: <code class="with-info-icon" title="Creates a log event where the message contents are specified in the field &#x27;value&#x27;.">&quot;raw&quot;</code> <code class="with-info-icon" title="Creates a log event where log fields are specified in the table &#x27;log_fields&#x27;.">&quot;log&quot;</code> <code class="with-info-icon" title="Creates a metric event, where its type and fields are specified in the table &#x27;metric&#x27;.">&quot;metric&quot;</code> </li><li><div class="show-more">View examples</div></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required*</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="value"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#value" title="Direct link to heading">#</a>value</h4><p>Specifies the log message field contents when the input type is &#x27;raw&#x27;.</p><ul class="info"><li>Only required when: <span><code><a href="#type">type</a></code> = <code>&quot;raw&quot;</code></span></li><li>No default</li><li><div class="show-more">View examples</div></li></ul></li></ul><ul class="info"><li>No default</li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="name-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#name-1" title="Direct link to heading">#</a>name</h3><p>A unique identifier for this test.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">[string]</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="no_outputs_from"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#no_outputs_from" title="Direct link to heading">#</a>no_outputs_from</h3><p>A list of transforms that must NOT output events in order for the test to pass.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">[table]</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="outputs"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#outputs" title="Direct link to heading">#</a>outputs</h3><p>A table that defines a unit test expected output.</p><ul class="connected-list"><li><div class="badges"><span class="badge badge--secondary">[table]</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">optional</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="conditions"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#conditions" title="Direct link to heading">#</a>conditions</h4><p>A table that defines a collection of conditions to check against the output of
a transform. A test is considered to have passed when each condition has
resolved true for one or more events extracted from the target transform.An
expected output without conditions instead prints the input and output of a
target without checking its values.</p><ul class="connected-list"><li><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--secondary with-info-icon" title="This option is an enumation and only allows specific values">enum</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">optional</span></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="type-2"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#type-2" title="Direct link to heading">#</a>type</h5><p>The type of the condition to execute.</p><ul class="info"><li>Default: <code>&quot;check_fields&quot;</code></li><li>Enum, must be one of: <code class="with-info-icon" title="Allows you to check individual fields against a list of conditions.">&quot;check_fields&quot;</code> <code class="with-info-icon" title="Returns true if the event is a log.">&quot;is_log&quot;</code> <code class="with-info-icon" title="Returns true if the event is a metric.">&quot;is_metric&quot;</code> </li><li><div class="show-more">View examples</div></li></ul></li><li><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">optional</span></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="field-nameeq"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#field-nameeq" title="Direct link to heading">#</a><code>[field-name]</code>.eq</h5><p>Check whether a fields contents exactly matches the value specified. This may
be a single string or a list of strings, in which case this evaluates to true
if any of the list matches.</p><ul class="info"><li>Only relevant when: <span><code><a href="#type">type</a></code> = <code>&quot;check_fields&quot;</code></span></li><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li><div class="badges"><span class="badge badge--secondary">bool</span><span class="badge badge--secondary">optional</span></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="field-nameexists"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#field-nameexists" title="Direct link to heading">#</a><code>[field-name]</code>.exists</h5><p>Check whether a field exists or does not exist, depending on the provided value
being <code>true</code> or <code>false</code> respectively.</p><ul class="info"><li>Only relevant when: <span><code><a href="#type">type</a></code> = <code>&quot;check_fields&quot;</code></span></li><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--secondary">optional</span></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="field-nameneq"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#field-nameneq" title="Direct link to heading">#</a><code>[field-name]</code>.neq</h5><p>Check whether a fields contents does not match the value specified. This may be
a single string or a list of strings, in which case this evaluates to false if
any of the list matches.</p><ul class="info"><li>Only relevant when: <span><code><a href="#type">type</a></code> = <code>&quot;check_fields&quot;</code></span></li><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li><div class="badges"><span class="badge badge--secondary">any</span><span class="badge badge--secondary">optional</span></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="field-namenot_condition"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#field-namenot_condition" title="Direct link to heading">#</a><code>[field-name]</code>.not_<code>[condition]</code></h5><p>Check if the given <code>[condition]</code> does not match.</p><ul class="info"><li>Only relevant when: <span><code><a href="#type">type</a></code> = <code>&quot;check_fields&quot;</code></span></li><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">optional</span></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="field_namecontains"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#field_namecontains" title="Direct link to heading">#</a><code>[field_name]</code>.contains</h5><p>Checks whether a string field contains a string argument. This may be a single
string or a list of strings, in which case this evaluates to true if any of the
list matches.</p><ul class="info"><li>Only relevant when: <span><code><a href="#type">type</a></code> = <code>&quot;check_fields&quot;</code></span></li><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">optional</span></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="field_nameends_with"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#field_nameends_with" title="Direct link to heading">#</a><code>[field_name]</code>.ends_with</h5><p>Checks whether a string field ends with a string argument. This may be a single
string or a list of strings, in which case this evaluates to true if any of the
list matches.</p><ul class="info"><li>Only relevant when: <span><code><a href="#type">type</a></code> = <code>&quot;check_fields&quot;</code></span></li><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--secondary">optional</span></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="field_nameip_cidr_contains"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#field_nameip_cidr_contains" title="Direct link to heading">#</a><code>[field_name]</code>.ip_cidr_contains</h5><p>Checks whether an IP field is contained within a given <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing">IP CIDR</a>
(works with IPv4 and IPv6). This may be a single string or a list of strings,
in which case this evaluates to true if the IP field is contained within any of
the CIDRs in the list.</p><ul class="info"><li>Only relevant when: <span><code><a href="#type">type</a></code> = <code>&quot;check_fields&quot;</code></span></li><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">optional</span></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="field_nameregex"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#field_nameregex" title="Direct link to heading">#</a><code>[field_name]</code>.regex</h5><p>Checks whether a string field matches a <a href="https://en.wikipedia.org/wiki/Regular_expression">regular expression</a>.
Vector uses the <a href="https://docs.rs/regex/1.3.6/regex/#syntax">documented Rust Regex syntax</a>. Note
that this condition is considerably more expensive than a regular string match
(such as <code>starts_with</code> or <code>contains</code>) so the use of those conditions are
preferred where possible.</p><ul class="info"><li>Only relevant when: <span><code><a href="#type">type</a></code> = <code>&quot;check_fields&quot;</code></span></li><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">optional</span></div><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="field_namestarts_with"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#field_namestarts_with" title="Direct link to heading">#</a><code>[field_name]</code>.starts_with</h5><p>Checks whether a string field starts with a string argument. This may be a
single string or a list of strings, in which case this evaluates to true if any
of the list matches.</p><ul class="info"><li>Only relevant when: <span><code><a href="#type">type</a></code> = <code>&quot;check_fields&quot;</code></span></li><li>No default</li><li><div class="show-more">View examples</div></li></ul></li></ul><ul class="info"><li>No default</li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="extract_from"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#extract_from" title="Direct link to heading">#</a>extract_from</h4><p>The name of a transform, at the end of the test events extracted from this
transform will be checked against a table of conditions.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li></ul><ul class="info"><li>No default</li></ul></li></ul></div></article></div></div><div class="rightCol_38kP"><div class="table-of-contents tableOfContents_tVyB"><div class="section"><div class="title">Support</div><div><a class="text--warning" title="This component is in beta and is not recommended for production environments. Click to learn more." href="/docs/about/guarantees/#beta"><i class="feather icon-alert-triangle"></i> Beta Status</a></div></div><div class="section"><div class="title">Contents</div><ul class="contents"><li><a href="#configuration" class="contents__link">Configuration</a><ul><li><a href="#inputs" class="contents__link">inputs</a></li><li><a href="#name-1" class="contents__link">name</a></li><li><a href="#no_outputs_from" class="contents__link">no_outputs_from</a></li><li><a href="#outputs" class="contents__link">outputs</a></li></ul></li></ul></div><div class="section"><div class="title">Resources</div><ul class="contents"></ul></div></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col col--5 footer__col"><div class="margin-bottom--md"></div><div class="margin-bottom--md"><div class="mailing-list"><form action="https://shiftm.us18.list-manage.com/subscribe/post" method="post" class="mailing-list--form"><input type="hidden" name="u" value="ef3f45d9742db70a70fd6e4c4"><input type="hidden" name="id" value="82fab539e5"><input type="email" class="input input--undefined" name="EMAIL" placeholder="your@email.com" style="width:150px"><button class="button button--primary button--undefined" type="submit">Subscribe</button></form></div></div></div><div class="col footer__col"><h4 class="footer__title">About</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/about/what-is-shiftm/">What is Shift&#x27;M</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/about/terms_and_cond/">Terms and Conditions</a></li><li class="footer__item"><a class="footer__link-item" to="https://shiftm.com/contact" href="https://shiftm.com/contact">Contact Us</a></li><li class="footer__item"><a class="footer__link-item" href="/mailing_list/">Mailing List</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Mobile</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://www.apple.com/ios/app-store">App Store</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://play.google.com/store?hl=en">Play Store</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://facebook.com/shiftmhealthcare">Facebook</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://instagram.com/shiftm_">Instagram</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://twitter.com/ShiftM_">Twitter</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://linkedIn.com/company/Shift-m">LinkedIn</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://shiftm.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_3L_r"></a></div>Copyright Â© 2020 Shift&#x27;M B.V<br></div></div></footer>
</div>

<script src="/styles.34e80712.js"></script>

<script src="/runtime~main.00c8b622.js"></script>

<script src="/main.1b8ce7e9.js"></script>

<script src="/common.a51457ff.js"></script>

<script src="/2.198bf9bf.js"></script>

<script src="/4.1035aa38.js"></script>

<script src="/1be78505.225a9b35.js"></script>

<script src="/20ac7829.95d9c5c8.js"></script>

<script src="/17896441.6a978b24.js"></script>

<script src="/3.2d737a5c.js"></script>

<script src="/5d4eddc9.eeb47a56.js"></script>


</body>
</html>