<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.54">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Shift'M Support Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Shift'M Support Blog Atom Feed">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu|Roboto|Source+Code+Pro">
<link rel="stylesheet" href="https://at-ui.github.io/feather-font/css/iconfont.css">

<title data-react-helmet="true">File Source | Docs | Shift&#x27;M Support</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="Shift&#x27;M Support"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="The Vector [`file`](#file) source ingests data through one or more local files and outputs `log` events."><meta data-react-helmet="true" property="og:description" content="The Vector [`file`](#file) source ingests data through one or more local files and outputs `log` events."><meta data-react-helmet="true" property="og:url" content="https://jaco1986.github.io/docs/reference/sources/file">

<link data-react-helmet="true" rel="shortcut icon" href="/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://shiftm.com/docs/reference/sources/file/">


<link rel="stylesheet" href="/styles.a54af6e8.css">


<link rel="preload" href="/styles.2ceb7c8c.js" as="script">

<link rel="preload" href="/runtime~main.5a4f8fe6.js" as="script">

<link rel="preload" href="/main.af87abf6.js" as="script">

<link rel="preload" href="/common.10d87740.js" as="script">

<link rel="preload" href="/2.5d8f2f96.js" as="script">

<link rel="preload" href="/4.da7ab688.js" as="script">

<link rel="preload" href="/1be78505.f2df0249.js" as="script">

<link rel="preload" href="/20ac7829.66aa896a.js" as="script">

<link rel="preload" href="/17896441.98a432a1.js" as="script">

<link rel="preload" href="/3.1d5120fd.js" as="script">

<link rel="preload" href="/b85ea11a.7b044c3b.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_2ZIa"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"></a><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/docs/">Docs</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="container_3Vzv container container--l"><main class="main_2vyu"><div><div class="container_2j_u"><div class="leftCol_3JzO"><div class="docItemContainer_"><article><header><div class="badges"><a class="badge badge--primary" href="/components?functions[]=collect">collect</a></div><h1 class="docTitle_cWlf">File Source</h1></header><div class="markdown"><p>The Vector <a href="#file"><code>file</code></a> source
ingests data through one or more local files and outputs
[<code>log</code>][docs.data-model.log] events.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="requirements"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#requirements" title="Direct link to heading">#</a>Requirements</h2><div class="list--icons list--icons--warnings alert alert--danger" role="alert"><ul><li>This component must be provided access to the configured file system.</li></ul></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration" title="Direct link to heading">#</a>Configuration</h2><div class="margin-bottom--md"><div><ul role="tablist" aria-orientation="horizontal" class="tabs tabs--block"><li role="tab" tabindex="0" aria-selected="true" class="tab-item tab-item--active">Common</li><li role="tab" tabindex="0" aria-selected="false" class="tab-item">Advanced</li></ul></div></div><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2TQJ">vector.toml</div><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb copyButtonWithTitle_qt-P">Copy</button><pre class="prism-code language-toml codeBlock_1wn8 codeBlockWithTitle_1f_H"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">sources.my_source_id</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># General</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;file&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># required</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">ignore_older</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">86400</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># optional, no default, seconds</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">include</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;/var/log/nginx/*.log&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># required</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">start_at_beginning</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># optional, default</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Priority</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">oldest_first</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># optional, default</span></div></div></pre></div></div><div class="filters"><div class="search"><span class="search--result-count">13 items</span><input class="input--text input--lg" placeholder="ðŸ” Search..."></div><div class="filter"><div class="filter--choices"><label title="Only show popular/common results"><input type="checkbox">common</label><label title="Only show required results"><input type="checkbox">required</label></div></div></div><ul class="connected-list"><li><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="data_dir"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#data_dir" title="Direct link to heading">#</a>data_dir</h3><p>The directory used to persist file checkpoint positions. By default, the
<a href="/docs/reference/global-options/#data_dir">global [<code>data_dir</code>](#data_dir) option</a> is used. Please make
sure the Vector project has write permissions to this dir.
See <a href="#checkpointing">Checkpointing</a> for more info.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li><div class="badges"><span class="badge badge--secondary">[string]</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="exclude"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#exclude" title="Direct link to heading">#</a>exclude</h3><p>Array of file patterns to exclude. <a href="#globbing">Globbing</a> is supported.<em>Takes
precedence over the <a href="#include"><code>include</code> option</a>.</em></p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="file_key"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#file_key" title="Direct link to heading">#</a>file_key</h3><p>The key name added to each event with the full path of the file.
See <a href="#context">Context</a> for more info.</p><ul class="info"><li>Default: <code>&quot;file&quot;</code></li></ul></li><li><div class="badges"><span class="badge badge--secondary">table</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="fingerprinting"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#fingerprinting" title="Direct link to heading">#</a>fingerprinting</h3><p>Configuration for how the file source should identify files.</p><ul class="connected-list"><li><div class="badges"><span class="badge badge--secondary">uint (bytes)</span><span class="badge badge--secondary">optional</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="fingerprint_bytes"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#fingerprint_bytes" title="Direct link to heading">#</a>fingerprint_bytes</h4><p>The number of bytes read off the head of the file to generate a unique
fingerprint.
See <a href="#fingerprinting">Fingerprinting</a> for more info.</p><ul class="info"><li>Only relevant when: <span><code><a href="#strategy">strategy</a></code> = <code>&quot;checksum&quot;</code></span></li><li>Default: <code>256</code> (bytes)</li></ul></li><li><div class="badges"><span class="badge badge--secondary">uint (bytes)</span><span class="badge badge--secondary">optional</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="ignored_header_bytes"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#ignored_header_bytes" title="Direct link to heading">#</a>ignored_header_bytes</h4><p>The number of bytes to skip ahead (or ignore) when generating a unique
fingerprint. This is helpful if all files share a common header.
See <a href="#fingerprinting">Fingerprinting</a> for more info.</p><ul class="info"><li>Only relevant when: <span><code><a href="#strategy">strategy</a></code> = <code>&quot;checksum&quot;</code></span></li><li>Default: <code>0</code> (bytes)</li></ul></li><li><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--secondary with-info-icon" title="This option is an enumation and only allows specific values">enum</span><span class="badge badge--secondary">optional</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="strategy"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#strategy" title="Direct link to heading">#</a>strategy</h4><p>The strategy used to uniquely identify files. This is important for
<a href="#checkpointing">checkpointing</a> when file rotation is used.</p><ul class="info"><li>Default: <code>&quot;checksum&quot;</code></li><li>Enum, must be one of: <code class="with-info-icon" title="Read [`fingerprint_bytes`](#fingerprint_bytes) bytes from the head of the file to uniquely identify files via a checksum.">&quot;checksum&quot;</code> <code class="with-info-icon" title="Uses the [device and inode][urls.inode] to unique identify files.">&quot;device_and_inode&quot;</code> </li><li><div class="show-more">View examples</div></li></ul></li></ul></li><li><div class="badges"><span class="badge badge--secondary">uint (milliseconds)</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="glob_minimum_cooldown"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#glob_minimum_cooldown" title="Direct link to heading">#</a>glob_minimum_cooldown</h3><p>Delay between file discovery calls. This controls the interval at which Vector
searches for files.
See <a href="#auto-discovery">Auto Discovery</a> and <a href="#globbing">Globbing</a> for more info.</p><ul class="info"><li>Default: <code>1000</code> (milliseconds)</li></ul></li><li><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="host_key"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#host_key" title="Direct link to heading">#</a>host_key</h3><p>The key name added to each event representing the current host. This can also
be globally set via the <a href="/docs/reference/global-options/#host_key">global [<code>host_key</code>](#host_key)
option</a>.
See <a href="#context">Context</a> for more info.</p><ul class="info"><li>Default: <code>&quot;host&quot;</code></li></ul></li><li><div class="badges"><span class="badge badge--secondary">uint (seconds)</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="ignore_older"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#ignore_older" title="Direct link to heading">#</a>ignore_older</h3><p>Ignore files with a data modification date that does not exceed this age.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">[string]</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="include"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#include" title="Direct link to heading">#</a>include</h3><p>Array of file patterns to include. <a href="#globbing">Globbing</a> is supported.
See <a href="#file-read-order">File Read Order</a> and <a href="#file-rotation">File Rotation</a> for more info.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li><div class="badges"><span class="badge badge--secondary">uint (bytes)</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="max_line_bytes"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#max_line_bytes" title="Direct link to heading">#</a>max_line_bytes</h3><p>The maximum number of a bytes a line can contain before being discarded. This
protects against malformed lines or tailing incorrect files.</p><ul class="info"><li>Default: <code>102400</code> (bytes)</li></ul></li><li><div class="badges"><span class="badge badge--secondary">uint (bytes)</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="max_read_bytes"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#max_read_bytes" title="Direct link to heading">#</a>max_read_bytes</h3><p>An approximate limit on the amount of data read from a single file at a given
time.</p><ul class="info"><li>Default: <code>2048</code> (bytes)</li></ul></li><li><div class="badges"><span class="badge badge--secondary">table</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="multiline"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#multiline" title="Direct link to heading">#</a>multiline</h3><p>Multiline parsing configuration (per file).
If not speicified, multiline parsing is disabled.
See <a href="#multi-line-messages">Multi-Line Messages</a> for more info.</p><ul class="connected-list"><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="condition_pattern"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#condition_pattern" title="Direct link to heading">#</a>condition_pattern</h4><p>Condition regex pattern to look for. Exact behavior is configured via <a href="#mode"><code>mode</code></a>.
See <a href="#multi-line-messages">Multi-Line Messages</a> for more info.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--secondary with-info-icon" title="This option is an enumation and only allows specific values">enum</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="mode"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#mode" title="Direct link to heading">#</a>mode</h4><p>Mode of operation, specifies how the <a href="#condition_pattern"><code>condition_pattern</code></a> is interpreted.
See <a href="#multi-line-messages">Multi-Line Messages</a> for more info.</p><ul class="info"><li>No default</li><li>Enum, must be one of: <code class="with-info-icon" title="All consecutive lines matching this pattern are included in the group. The first line (the line that matched the start pattern) does not need to match the `ContinueThrough` pattern. This is useful in cases such as a Java stack trace, where some indicator in the line (such as leading whitespace) indicates that it is an extension of the preceeding line.">&quot;continue_through&quot;</code> <code class="with-info-icon" title="All consecutive lines matching this pattern, plus one additional line, are included in the group. This is useful in cases where a log message ends with a continuation marker, such as a backslash, indicating that the following line is part of the same message.">&quot;continue_past&quot;</code> <code class="with-info-icon" title="All consecutive lines not matching this pattern are included in the group. This is useful where a log line contains a marker indicating that it begins a new message.">&quot;halt_before&quot;</code> <code class="with-info-icon" title="All consecutive lines, up to and including the first line matching this pattern, are included in the group. This is useful where a log line ends with a termination marker, such as a semicolon.">&quot;halt_with&quot;</code> </li><li><div class="show-more">View examples</div></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="start_pattern"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#start_pattern" title="Direct link to heading">#</a>start_pattern</h4><p>Start regex pattern to look for as a beginning of the message.
See <a href="#multi-line-messages">Multi-Line Messages</a> for more info.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">uint (milliseconds)</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="timeout_ms"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#timeout_ms" title="Direct link to heading">#</a>timeout_ms</h4><p>The maximum time to wait for the continuation. Once this timeout is reached,
the buffered message is guaraneed to be flushed, even if incomplete.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li></ul></li><li><div class="badges"><span class="badge badge--secondary">bool</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="oldest_first"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#oldest_first" title="Direct link to heading">#</a>oldest_first</h3><p>Instead of balancing read capacity fairly across all watched files, prioritize
draining the oldest files before moving on to read data from younger files.
See <a href="#file-read-order">File Read Order</a> for more info.</p><ul class="info"><li>Default: <code>false</code></li><li><div class="show-more">View examples</div></li></ul></li><li><div class="badges"><span class="badge badge--secondary">bool</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="start_at_beginning"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#start_at_beginning" title="Direct link to heading">#</a>start_at_beginning</h3><p>For files with a stored checkpoint at startup, setting this option to <code>true</code>
will tell Vector to read from the beginning of the file instead of the stored
checkpoint.
See <a href="#read-position">Read Position</a> for more info.</p><ul class="info"><li>Default: <code>false</code></li><li><div class="show-more">View examples</div></li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="fields"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#fields" title="Direct link to heading">#</a>Fields</h2><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2TQJ">example log event</div><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb copyButtonWithTitle_qt-P">Copy</button><pre class="prism-code language-javascript codeBlock_1wn8 codeBlockWithTitle_1f_H"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;file&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/var/log/nginx.log&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;host&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;my.host.com&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Started GET / for 127.0.0.1 at 2012-03-10 14:28:14 +0100&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;timestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2019-11-01T21:15:47+00:00&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></pre></div></div><div class="filters"><div class="search"><span class="search--result-count">4 items</span><input class="input--text input--lg" placeholder="ðŸ” Search..."></div><div class="filter"><div class="filter--choices"><label title="Only show popular/common results"><input type="checkbox">common</label><label title="Only show required results"><input type="checkbox">required</label></div></div></div><ul class="connected-list"><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="file"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#file" title="Direct link to heading">#</a>file</h3><p>The <em>full</em> path of the file tha the log originated from. This can be renamed
via the <a href="#file_key"><code>file_key</code></a> option.
See <a href="#checkpointing">Checkpointing</a> and <a href="#context">Context</a> for more info.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="host"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#host" title="Direct link to heading">#</a>host</h3><p>The current hostname, equivalent to the <code>gethostname</code> command. This can be
renamed via the <a href="#host_key"><code>host_key</code></a> option.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="message"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#message" title="Direct link to heading">#</a>message</h3><p>The raw log message, unaltered. This can be renamed via the <a href="/docs/reference/global-options/#message_key">global
<code>message_key</code> option</a>.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">timestamp</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="timestamp"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#timestamp" title="Direct link to heading">#</a>timestamp</h3><p>The exact time the event was ingested. This can be renamed via the <a href="/docs/reference/global-options/#timestamp_key">global
<code>timestamp_key</code> option</a>.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="how-it-works"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-it-works" title="Direct link to heading">#</a>How It Works</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="auto-discovery"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#auto-discovery" title="Direct link to heading">#</a>Auto Discovery</h3><p>Vector will continually look for new files matching any of your include
patterns. The frequency is controlled via the <a href="#glob_minimum_cooldown"><code>glob_minimum_cooldown</code></a> option.
If a new file is added that matches any of the supplied patterns, Vector will
begin tailing it. Vector maintains a unique list of files and will not tail a
file more than once, even if it matches multiple patterns. You can read more
about how we identify files in the <a href="#file-identification">Identification</a>
section.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="checkpointing"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#checkpointing" title="Direct link to heading">#</a>Checkpointing</h3><p>Vector checkpoints the current read position in the file after each successful
read. This ensures that Vector resumes where it left off if restarted,
preventing data from being read twice. The checkpoint positions are stored in
the data directory which is specified via the
<a href="/docs/reference/global-options/#data_dir">global [<code>data_dir</code>](#data_dir) option</a> but can be
overridden via the <a href="#data_dir"><code>data_dir</code></a> option in the <a href="#file"><code>file</code></a> source directly.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="compressed-files"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#compressed-files" title="Direct link to heading">#</a>Compressed Files</h3><p>Vector will transparently detect files which have been compressed using <code>gzip</code>
and decompress them for reading. This detection process looks for the unique
sequence of bytes in the <code>gzip</code> header and does not rely on the compressed files
adhering to any kind of naming convention.</p><p>One caveat with reading compressed files is that Vector is not able to
efficiently seek into them. Rather than implement a potentially-expensive full
scan as a seek mechanism, Vector currently will not attempt to make further
reads from a file for which it has already stored a checkpoint in a previous
run. For this reason, users should take care to allow Vector to fully process
any compressed files before shutting the process down or moving the files to
another location on disk.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="context"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#context" title="Direct link to heading">#</a>Context</h3><p>By default, the <a href="#file"><code>file</code></a> source will add context
keys to your events via the <a href="#file_key"><code>file_key</code></a> and <a href="#host_key"><code>host_key</code></a>
options.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="environment-variables"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#environment-variables" title="Direct link to heading">#</a>Environment Variables</h3><p>Environment variables are supported through all of Vector&#x27;s configuration.
Simply add <code>${MY_ENV_VAR}</code> in your Vector configuration file and the variable
will be replaced before being evaluated.</p><p>You can learn more in the
<a href="/docs/setup/configuration/#environment-variables">Environment Variables</a> section.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="file-deletion"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#file-deletion" title="Direct link to heading">#</a>File Deletion</h3><p>When a watched file is deleted, Vector will maintain its open file handle and
continue reading until it reaches <code>EOF</code>. When a file is no longer findable in
the <code>includes</code> glob and the reader has reached EOF, that file&#x27;s reader is
discarded.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="file-read-order"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#file-read-order" title="Direct link to heading">#</a>File Read Order</h3><p>By default, Vector attempts to allocate its read bandwidth fairly across all of
the files it&#x27;s currently watching. This prevents a single very busy file from
starving other independent files from being read. In certain situations,
however, this can lead to interleaved reads from files that should be read one
after the other.</p><p>For example, consider a service that logs to timestamped file, creating
a new one at an interval and leaving the old one as-is. Under normal operation,
Vector would follow writes as they happen to each file and there would be no
interleaving. In an overload situation, however, Vector may pick up and begin
tailing newer files before catching up to the latest writes from older files.
This would cause writes from a single logical log stream to be interleaved in
time and potentially slow down ingestion as a whole, since the fixed total read
bandwidth is allocated across an increasing number of files.</p><p>To address this type of situation, Vector provides the <a href="#oldest_first"><code>oldest_first</code></a> flag. When
set, Vector will not read from any file younger than the oldest file that it
hasn&#x27;t yet caught up to. In other words, Vector will continue reading from older
files as long as there is more data to read. Only once it hits the end will it
then move on to read from younger files.</p><p>Whether or not to use the <a href="#oldest_first"><code>oldest_first</code></a> flag depends on the organization of the
logs you&#x27;re configuring Vector to tail. If your <a href="#include"><code>include</code></a> glob contains multiple
independent logical log streams (e.g. nginx&#x27;s <code>access.log</code> and <code>error.log</code>, or
logs from multiple services), you are likely better off with the default
behavior. If you&#x27;re dealing with a single logical log stream or if you value
per-stream ordering over fairness across streams, consider setting
<code>oldest_first</code> to <code>true</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="file-rotation"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#file-rotation" title="Direct link to heading">#</a>File Rotation</h3><p>Vector supports tailing across a number of file rotation strategies. The default
behavior of <code>logrotate</code> is simply to move the old log file and create a new one.
This requires no special configuration of Vector, as it will maintain its open
file handle to the rotated log until it has finished reading and it will find
the newly created file normally.</p><p>A popular alternative strategy is <code>copytruncate</code>, in which <code>logrotate</code> will copy
the old log file to a new location before truncating the original. Vector will
also handle this well out of the box, but there are a couple configuration options
that will help reduce the very small chance of missed data in some edge cases.
We recommend a combination of <code>delaycompress</code> (if applicable) on the logrotate
side and including the first rotated file in Vector&#x27;s <a href="#include"><code>include</code></a> option. This
allows Vector to find the file after rotation, read it uncompressed to identify
it, and then ensure it has all of the data, including any written in a gap
between Vector&#x27;s last read and the actual rotation event.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="fingerprinting-1"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#fingerprinting-1" title="Direct link to heading">#</a>Fingerprinting</h3><p>By default, Vector identifies files by creating a <a href="https://en.wikipedia.org/wiki/Cyclic_redundancy_check">cyclic redundancy check
(CRC)</a> on the first 256 bytes of the file. This serves as a
fingerprint to uniquely identify the file. The amount of bytes read can be
controlled via the <a href="#fingerprint_bytes"><code>fingerprint_bytes</code></a> and <a href="#ignored_header_bytes"><code>ignored_header_bytes</code></a> options.</p><p>This strategy avoids the common pitfalls of using device and inode names since
inode names can be reused across files. This enables Vector to <a href="/#correctness">properly tail
files across various rotation strategies</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="globbing"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#globbing" title="Direct link to heading">#</a>Globbing</h3><p><a href="https://en.wikipedia.org/wiki/Glob_(programming)">Globbing</a> is supported in all provided file paths, files will
be <a href="#auto-discovery">autodiscovered</a> continually at a rate defined by the
<code>glob_minimum_cooldown</code> option.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="line-delimiters"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#line-delimiters" title="Direct link to heading">#</a>Line Delimiters</h3><p>Each line is read until a new line delimiter (the <code>0xA</code> byte) or <code>EOF</code> is found.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="multi-line-messages"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#multi-line-messages" title="Direct link to heading">#</a>Multi-Line Messages</h3><p>Sometimes a single log event will appear as multiple log lines. To handle this,
Vector provides a set of <a href="#multiline"><code>multiline</code></a> options. These options were carefully
thought through and will allow you to solve the simplest and most complex
cases. Let&#x27;s look at a few examples:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="example-1-ruby-exceptions"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#example-1-ruby-exceptions" title="Direct link to heading">#</a>Example 1: Ruby Exceptions</h4><p>Ruby exceptions, when logged, consist of multiple lines:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-text codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">foobar.rb:6:in `/&#x27;: divided by 0 (ZeroDivisionError)</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  from foobar.rb:6:in `bar&#x27;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  from foobar.rb:2:in `foo&#x27;</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  from foobar.rb:9:in `&lt;main&gt;&#x27;</span></div></div></pre></div></div><p>To consume these lines as a single event, use the following Vector configuration:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-toml codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">sources.my_file_source</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;file&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">sources.my_file_source.multiline</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">start_pattern</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^[^\\s]&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">mode</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;continue_through&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">condition_pattern</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^[\\s]+from&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">timeout_ms</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span></div></div></pre></div></div><ul><li><a href="#start_pattern"><code>start_pattern</code></a>, set to <code>^[^\\s]</code>, tells Vector that new multi-line events
should <em>not</em> start  with white-space.</li><li><a href="#mode"><code>mode</code></a>, set to <code>continue_through</code>, tells Vector continue aggregating lines
until the <a href="#condition_pattern"><code>condition_pattern</code></a> is no longer valid (excluding the invalid line).</li><li><a href="#condition_pattern"><code>condition_pattern</code></a>, set to <code>^[\\s]+from</code>, tells Vector to continue
aggregating lines if they start with white-space followed by <code>from</code>.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="example-2-line-continuations"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#example-2-line-continuations" title="Direct link to heading">#</a>Example 2: Line Continuations</h4><p>Some programming languages use the backslash (<code>\</code>) character to signal that a
line will continue on the next line:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-text codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">First line\</span></div><div class="token-line" style="color:#393A34"><span class="token plain">second line\</span></div><div class="token-line" style="color:#393A34"><span class="token plain">third line</span></div></div></pre></div></div><p>To consume these lines as a single event, use the following Vector configuration:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-toml codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">sources.my_file_source</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;file&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">sources.my_file_source.multiline</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">start_pattern</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;\\$&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">mode</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;continue_past&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">condition_pattern</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;\\$&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">timeout_ms</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span></div></div></pre></div></div><ul><li><a href="#start_pattern"><code>start_pattern</code></a>, set to <code>\\$</code>, tells Vector that new multi-line events
start with lines that end in <code>\</code>.</li><li><a href="#mode"><code>mode</code></a>, set to <code>continue_past</code>, tells Vector continue aggregating lines, plus
one additional line, until <a href="#condition_pattern"><code>condition_pattern</code></a> is false.</li><li><a href="#condition_pattern"><code>condition_pattern</code></a>, set to <code>\\$</code>, tells Vector to continue aggregating lines
if they <em>end</em> with a <code>\</code> character.</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="example-3-timestamps"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#example-3-timestamps" title="Direct link to heading">#</a>Example 3: Timestamps</h4><p>Activity logs from services such as Elasticsearch typically begin with a
timestamp, followed by information on the specific activity, as in this example:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-text codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">[2015-08-24 11:49:14,389][ INFO ][env                      ] [Letha] using [1] data paths, mounts [[/</span></div><div class="token-line" style="color:#393A34"><span class="token plain">(/dev/disk1)]], net usable_space [34.5gb], net total_space [118.9gb], types [hfs]</span></div></div></pre></div></div><p>To consume these lines as a single event, use the following Vector configuration:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button><pre class="prism-code language-toml codeBlock_1wn8"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">sources.my_file_source</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;file&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">sources.my_file_source.multiline</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">start_pattern</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^\[[0-9]{4}-[0-9]{2}-[0-9]{2}&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">mode</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;halt_before&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">condition_pattern</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^\[[0-9]{4}-[0-9]{2}-[0-9]{2}&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key property" style="color:#36acaa">timeout_ms</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1000</span></div></div></pre></div></div><ul><li><a href="#start_pattern"><code>start_pattern</code></a>, set to <code>^\[[0-9]{4}-[0-9]{2}-[0-9]{2}</code>, tells Vector that
new multi-line events start with a timestamp sequence.</li><li><a href="#mode"><code>mode</code></a>, set to <code>halt_before</code>, tells Vector to continue aggregating lines as
long as the <a href="#condition_pattern"><code>condition_pattern</code></a> does not match.</li><li><a href="#condition_pattern"><code>condition_pattern</code></a>, set to <code>^\[[0-9]{4}-[0-9]{2}-[0-9]{2}</code>, tells Vector to
continue aggregating up until a line starts with a timestamp sequence.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="read-position"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#read-position" title="Direct link to heading">#</a>Read Position</h3><p>By default, Vector will read new data only for newly discovered files, similar
to the <code>tail</code> command. You can read from the beginning of the file by setting
the <a href="#start_at_beginning"><code>start_at_beginning</code></a> option to <code>true</code>.</p><p>Previously discovered files will be <a href="#checkpointing">checkpointed</a>, and the
read position will resume from the last checkpoint.</p></div></article></div></div><div class="rightCol_38kP"><div class="table-of-contents tableOfContents_tVyB"><div class="section"><div class="title">Support</div><div><a class="text--primary" title="This component has passed reliability standards that make it production ready. Click to learn more." href="/docs/about/guarantees/#prod-ready"><i class="feather icon-award"></i> Prod-Ready Status</a></div><div><a class="text--warning" title="This component makes a best-effort delivery guarantee, and in rare cases can lose data. Click to learn more." href="/docs/about/guarantees/#best-effort"><i class="feather icon-shield-off"></i> Best-Effort Delivery</a></div><div><a title="This component works on the Linux, MacOS, Windows operating systems." href="/docs/setup/installation/operating-systems/"><i class="feather icon-cpu"></i> <span class="text--primary">Linux</span><span>, </span><span class="text--primary">MacOS</span><span>, </span><span class="text--primary">Windows</span></a></div></div><div class="section"><div class="title">Contents</div><ul class="contents"><li><a href="#requirements" class="contents__link">Requirements</a></li><li><a href="#configuration" class="contents__link">Configuration</a><ul><li><a href="#data_dir" class="contents__link">data_dir</a></li><li><a href="#exclude" class="contents__link">exclude</a></li><li><a href="#file_key" class="contents__link">file_key</a></li><li><a href="#fingerprinting" class="contents__link">fingerprinting</a></li><li><a href="#glob_minimum_cooldown" class="contents__link">glob_minimum_cooldown</a></li><li><a href="#host_key" class="contents__link">host_key</a></li><li><a href="#ignore_older" class="contents__link">ignore_older</a></li><li><a href="#include" class="contents__link">include</a></li><li><a href="#max_line_bytes" class="contents__link">max_line_bytes</a></li><li><a href="#max_read_bytes" class="contents__link">max_read_bytes</a></li><li><a href="#multiline" class="contents__link">multiline</a></li><li><a href="#oldest_first" class="contents__link">oldest_first</a></li><li><a href="#start_at_beginning" class="contents__link">start_at_beginning</a></li></ul></li><li><a href="#fields" class="contents__link">Fields</a><ul><li><a href="#file" class="contents__link">file</a></li><li><a href="#host" class="contents__link">host</a></li><li><a href="#message" class="contents__link">message</a></li><li><a href="#timestamp" class="contents__link">timestamp</a></li></ul></li><li><a href="#how-it-works" class="contents__link">How It Works</a><ul><li><a href="#auto-discovery" class="contents__link">Auto Discovery</a></li><li><a href="#checkpointing" class="contents__link">Checkpointing</a></li><li><a href="#compressed-files" class="contents__link">Compressed Files</a></li><li><a href="#context" class="contents__link">Context</a></li><li><a href="#environment-variables" class="contents__link">Environment Variables</a></li><li><a href="#file-deletion" class="contents__link">File Deletion</a></li><li><a href="#file-read-order" class="contents__link">File Read Order</a></li><li><a href="#file-rotation" class="contents__link">File Rotation</a></li><li><a href="#fingerprinting-1" class="contents__link">Fingerprinting</a></li><li><a href="#globbing" class="contents__link">Globbing</a></li><li><a href="#line-delimiters" class="contents__link">Line Delimiters</a></li><li><a href="#multi-line-messages" class="contents__link">Multi-Line Messages</a></li><li><a href="#read-position" class="contents__link">Read Position</a></li></ul></li></ul></div><div class="section"><div class="title">Resources</div><ul class="contents"><li><a href="https://github.com/timberio/vector/issues?q=is%3Aopen+is%3Aissue+label%3A%22source%3A+file%22" class="contents__link" target="_blank"><i class="feather icon-message-circle"></i> View Issues</a></li><li><a href="https://github.com/timberio/vector/tree/master/src/sources/file" class="contents__link" target="_blank"><i class="feather icon-github"></i> View Source</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col col--5 footer__col"><div class="margin-bottom--md"></div><div class="margin-bottom--md"><div class="mailing-list"><form action="https://shiftm.us18.list-manage.com/subscribe/post" method="post" class="mailing-list--form"><input type="hidden" name="u" value="ef3f45d9742db70a70fd6e4c4"><input type="hidden" name="id" value="82fab539e5"><input type="email" class="input input--undefined" name="EMAIL" placeholder="your@email.com" style="width:150px"><button class="button button--primary button--undefined" type="submit">Subscribe</button></form></div></div></div><div class="col footer__col"><h4 class="footer__title">About</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/about/what-is-shiftm/">What is Shift&#x27;M</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/about/terms_and_cond/">Terms and Conditions</a></li><li class="footer__item"><a class="footer__link-item" to="https://shiftm.com/contact" href="https://shiftm.com/contact">Contact Us</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Mobile</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://www.apple.com/ios/app-store">App Store</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://play.google.com/store?hl=en">Play Store</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://facebook.com/shiftmhealthcare">Facebook</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://instagram.com/shiftm_">Instagram</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://twitter.com/ShiftM_">Twitter</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://linkedIn.com/company/Shift-m">LinkedIn</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://shiftm.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_3L_r"></a></div>Copyright Â© 2020 Shift&#x27;M B.V<br></div></div></footer>
</div>

<script src="/styles.2ceb7c8c.js"></script>

<script src="/runtime~main.5a4f8fe6.js"></script>

<script src="/main.af87abf6.js"></script>

<script src="/common.10d87740.js"></script>

<script src="/2.5d8f2f96.js"></script>

<script src="/4.da7ab688.js"></script>

<script src="/1be78505.f2df0249.js"></script>

<script src="/20ac7829.66aa896a.js"></script>

<script src="/17896441.98a432a1.js"></script>

<script src="/3.1d5120fd.js"></script>

<script src="/b85ea11a.7b044c3b.js"></script>


</body>
</html>