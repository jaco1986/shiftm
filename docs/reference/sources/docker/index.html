<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.54">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Shift'M Support Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Shift'M Support Blog Atom Feed">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu|Roboto|Source+Code+Pro">
<link rel="stylesheet" href="https://at-ui.github.io/feather-font/css/iconfont.css">

<title data-react-helmet="true">Docker Source | Docs | Shift&#x27;M Support</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="Shift&#x27;M Support"><meta data-react-helmet="true" property="og:image" content="https://jaco1986.github.io/img/open-graph.png"><meta data-react-helmet="true" property="twitter:image" content="https://jaco1986.github.io/img/open-graph.png"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Shift&#x27;M Support"><meta data-react-helmet="true" name="twitter:site" content="@vectordotdev"><meta data-react-helmet="true" name="twitter:creator" content="@vectordotdev"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="The Vector `docker` source ingests data through the Docker engine daemon and outputs `log` events."><meta data-react-helmet="true" property="og:description" content="The Vector `docker` source ingests data through the Docker engine daemon and outputs `log` events."><meta data-react-helmet="true" property="og:url" content="https://jaco1986.github.io/docs/reference/sources/docker">

<link data-react-helmet="true" rel="shortcut icon" href="/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://vector.dev/docs/reference/sources/docker/">


<link rel="stylesheet" href="/styles.e3815c54.css">


<link rel="preload" href="/styles.c7889ac6.js" as="script">

<link rel="preload" href="/runtime~main.3e18c44a.js" as="script">

<link rel="preload" href="/main.60c2c36d.js" as="script">

<link rel="preload" href="/common.986d0602.js" as="script">

<link rel="preload" href="/3.70e6c0a0.js" as="script">

<link rel="preload" href="/4.c71eb10d.js" as="script">

<link rel="preload" href="/1be78505.ea7d5101.js" as="script">

<link rel="preload" href="/20ac7829.210f62b9.js" as="script">

<link rel="preload" href="/17896441.ad265b5a.js" as="script">

<link rel="preload" href="/2.415e5bbe.js" as="script">

<link rel="preload" href="/d5f41028.121835d0.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_2ZIa"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"></a><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/guides/">Guides</a><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/guides/">Guides</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/highlights/">Highlights</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/community/">Community</a></li><li class="menu__list-item"><a class="navbar__item navbar__link" activeclassname="navbar__link--active" href="/releases/">Download</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="container_3Vzv container container--l"><main class="main_2vyu"><div><div class="container_2j_u"><div class="leftCol_3JzO"><div class="docItemContainer_"><article><header><div class="badges"><a class="badge badge--primary" href="/components?functions[]=collect">collect</a></div><h1 class="docTitle_cWlf">Docker Source</h1></header><div class="markdown"><p>The Vector <code>docker</code> source
ingests data through the <a href="https://www.docker.com/">Docker</a> <a href="https://docs.docker.com/engine/docker-overview/#the-docker-daemon">engine
daemon</a> and outputs <a href="/docs/about/data-model/log/"><code>log</code></a> events.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="requirements"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#requirements" title="Direct link to heading">#</a>Requirements</h2><div class="list--icons list--icons--warnings alert alert--danger" role="alert"><ul><li>Docker API <code>&gt;= 1.24</code> is required.</li><li>In order for the Docker API to work properly, the <a href="https://docs.docker.com/config/containers/logging/json-file/"><code>json-file</code></a> (default) or <a href="https://docs.docker.com/config/containers/logging/journald/"><code>journald</code></a> Docker logging driver must be enabled for this component to work. See the <a href="/docs/reference/sources/docker/#docker-logging-drivers">&quot;Docker Logging Drivers&quot; section</a> for more info.</li></ul></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration" title="Direct link to heading">#</a>Configuration</h2><div class="margin-bottom--md"><div><ul role="tablist" aria-orientation="horizontal" class="tabs tabs--block"><li role="tab" tabindex="0" aria-selected="true" class="tab-item tab-item--active">Common</li><li role="tab" tabindex="0" aria-selected="false" class="tab-item">Advanced</li></ul></div></div><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2TQJ">vector.toml</div><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb copyButtonWithTitle_qt-P">Copy</button><pre class="prism-code language-toml codeBlock_1wn8 codeBlockWithTitle_1f_H"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token table class-name">sources.my_source_id</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;docker&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># required</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">include_containers</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;serene_&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;serene_leakey&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ad08cc418cf9&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># optional, no default</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">include_images</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;httpd&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;redis&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># optional, no default</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key property" style="color:#36acaa">include_labels</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;com.example.vendor=Timber Inc.&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;com.example.name=Vector&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># optional, no default</span></div></div></pre></div></div><div class="filters"><div class="search"><span class="search--result-count">5 items</span><input class="input--text input--lg" placeholder="🔍 Search..."></div><div class="filter"><div class="filter--choices"><label title="Only show popular/common results"><input type="checkbox">common</label></div></div></div><ul class="connected-list"><li><div class="badges"><span class="badge badge--secondary">bool</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="auto_partial_merge"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#auto_partial_merge" title="Direct link to heading">#</a>auto_partial_merge</h3><p>Setting this to <code>false</code> will disable the automatic merging of partial events.
See <a href="#message-splitting--merging">Message Splitting &amp; Merging</a> for more info.</p><ul class="info"><li>Default: <code>true</code></li><li><div class="show-more">View examples</div></li></ul></li><li><div class="badges"><span class="badge badge--secondary">[string]</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="include_containers"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#include_containers" title="Direct link to heading">#</a>include_containers</h3><p>A list of container IDs <em>or</em> names to match against. Prefix matches are
supported, meaning you can supply just the first few characters of the
container ID or name. If not provided, all containers will be included.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li><div class="badges"><span class="badge badge--secondary">[string]</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="include_images"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#include_images" title="Direct link to heading">#</a>include_images</h3><p>A list of image names to match against. If not provided, all images will be
included.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li><div class="badges"><span class="badge badge--secondary">[string]</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="include_labels"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#include_labels" title="Direct link to heading">#</a>include_labels</h3><p>A list of container object labels to match against when filtering running
containers. This should follow the described label&#x27;s synatx in <a href="https://docs.docker.com/config/labels-custom-metadata/">docker object
labels docs</a>.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="partial_event_marker_field"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#partial_event_marker_field" title="Direct link to heading">#</a>partial_event_marker_field</h3><p>The field name to be added to events that are detected to contain an incomplete
message (i.e. partial events). If set to <code>&quot;&quot;</code>, no field will be added to
partial event. This allows to opt-out of partial event detection.
See <a href="#message-splitting--merging">Message Splitting &amp; Merging</a> for more info.</p><ul class="info"><li>Default: <code>&quot;_partial&quot;</code></li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="env-vars"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#env-vars" title="Direct link to heading">#</a>Env Vars</h2><div class="filters"><div class="search"><span class="search--result-count">2 items</span><input class="input--text input--lg" placeholder="🔍 Search..."></div><div class="filter"><div class="filter--choices"></div></div></div><ul class="connected-list"><li><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="docker_host"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#docker_host" title="Direct link to heading">#</a>DOCKER_HOST</h3><p>The docker host to connect to.
See <a href="#connecting-to-the-docker-daemon">Connecting To The Docker Daemon</a> for more info.</p><ul class="info"><li>Default: <code>&quot;unix:///var/run/docker.sock&quot;</code></li><li><div class="show-more">View examples</div></li></ul></li><li><div class="badges"><span class="badge badge--secondary">bool</span><span class="badge badge--secondary">optional</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="docker_verify_tls"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#docker_verify_tls" title="Direct link to heading">#</a>DOCKER_VERIFY_TLS</h3><p>If <code>true</code> (the default), Vector will validate the TLS certificate of the remote
host. Do NOT set this to <code>false</code> unless you understand the risks of not
verifying the remote certificate.
See <a href="#connecting-to-the-docker-daemon">Connecting To The Docker Daemon</a> for more info.</p><ul class="info"><li>Default: <code>true</code></li><li><div class="show-more">View examples</div></li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="fields"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#fields" title="Direct link to heading">#</a>Fields</h2><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_2TQJ">example log event</div><div class="codeBlockContent_3RXF"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb copyButtonWithTitle_qt-P">Copy</button><pre class="prism-code language-javascript codeBlock_1wn8 codeBlockWithTitle_1f_H"><div class="codeBlockLines_3HrO" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;container_created_at&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2019-11-01T21:15:47+00:00&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;container_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;9b6247364a03&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;container_name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;evil_ptolemy&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;image&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;ubuntu:latest&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;com.example.vendor&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Timber Inc.&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;message&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Started GET / for 127.0.0.1 at 2012-03-10 14:28:14 +0100&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;stream&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;stdout&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&quot;timestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2019-11-01T21:15:47+00:00&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></div></pre></div></div><div class="filters"><div class="search"><span class="search--result-count">8 items</span><input class="input--text input--lg" placeholder="🔍 Search..."></div><div class="filter"><div class="filter--choices"><label title="Only show popular/common results"><input type="checkbox">common</label><label title="Only show required results"><input type="checkbox">required</label></div></div></div><ul class="connected-list"><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">timestamp</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="container_created_at"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#container_created_at" title="Direct link to heading">#</a>container_created_at</h3><p>A UTC timestamp representing when the container was created.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="container_id"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#container_id" title="Direct link to heading">#</a>container_id</h3><p>The Docker container ID that the log was collected from.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="container_name"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#container_name" title="Direct link to heading">#</a>container_name</h3><p>The Docker container name that the log was collected from.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="image"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#image" title="Direct link to heading">#</a>image</h3><p>The image name that the container is based on.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="label-key"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#label-key" title="Direct link to heading">#</a><code>[label-key]</code></h3><p><a href="https://docs.docker.com/config/labels-custom-metadata/">Docker object labels</a>. Each label is inserted with
it&#x27;s exact key/value pair.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="message"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#message" title="Direct link to heading">#</a>message</h3><p>The raw log message, unaltered.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">string</span><span class="badge badge--secondary with-info-icon" title="This option is an enumation and only allows specific values">enum</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="stream"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#stream" title="Direct link to heading">#</a>stream</h3><p>The <a href="https://en.wikipedia.org/wiki/Standard_streams">standard stream</a> that the log was collected from.</p><ul class="info"><li>No default</li><li>Enum, must be one of: <code class="with-info-icon" title="The STDOUT stream">&quot;stdout&quot;</code> <code class="with-info-icon" title="The STDERR stream">&quot;stderr&quot;</code> </li><li><div class="show-more">View examples</div></li></ul></li><li class="field-required" required=""><div class="badges"><span class="badge badge--secondary">timestamp</span><span class="badge badge--primary with-info-icon" title="This is a popular that we recommend for getting started">common</span><span class="badge badge--danger">required</span></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="timestamp"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#timestamp" title="Direct link to heading">#</a>timestamp</h3><p>The UTC timestamp extracted from the Docker log event.</p><ul class="info"><li>No default</li><li><div class="show-more">View examples</div></li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="how-it-works"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-it-works" title="Direct link to heading">#</a>How It Works</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="connecting-to-the-docker-daemon"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#connecting-to-the-docker-daemon" title="Direct link to heading">#</a>Connecting To The Docker Daemon</h3><p>Vector will automatically attempt to connect to the docker daemon for you. If
the user that Vector is running under can run <code>docker ps</code> then Vector will be
able to connect. Vector will also respect if <a href="#docker_host"><code>DOCKER_HOST</code></a> and
<code>DOCKER_VERIFY_TLS</code> are set (as well as other Docker environment variables).
See the <a href="https://docs.docker.com/engine/reference/commandline/dockerd/#daemon-socket-option">Docker daemon docs</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="docker-integration-strategy"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#docker-integration-strategy" title="Direct link to heading">#</a>Docker Integration Strategy</h3><p>There are two primary ways through which you can integrate with Docker to
receive its logs:</p><ol><li>Interact with the <a href="https://docs.docker.com/engine/docker-overview/#the-docker-daemon">Docker daemon</a> directly via the
<code>docker logs</code> command. (simplest)</li><li>Configure a compatible <a href="https://docs.docker.com/config/containers/logging/configure/">Docker logging driver</a>
with a matching <a href="/docs/reference/sources/">Vector source</a>. (advanced)</li></ol><p>The Vector <code>docker</code> source implements option 1. This is the simplest option,
but it is prone to performance and stability issues with <em>large</em> deployments. If
you experience this, please see the
<a href="#alternate-strategies">Alternate Strategies section</a> below.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="alternate-strategies"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#alternate-strategies" title="Direct link to heading">#</a>Alternate Strategies</h4><p>First, it&#x27;s worth mentioning that Vector strives to guide you towards the
optimal observability setup without presenting you with unncessary details or
questions. Unfortunately, there are circumstances where tradeoffs must be made
and you must determine which tradeoffs are appropriate. Docker is one of these
circumstances.</p><p>Second, if you have a large container-based deployment you should consider using
a platform Kubernetes. These platforms provide alternate log collection means
that side-step the Docker logging problems. For supported platforms see Vector&#x27;s
<a href="/docs/setup/installation/platforms/">Platforms installation section</a>.</p><p>Finally, if you cannot use a container orchestrator then you can configure a
compatible <a href="https://docs.docker.com/config/containers/logging/configure/">Docker logging driver</a> with a matching
<a href="/docs/reference/sources/">Vector source</a>. For example:</p><ol><li>The <a href="https://docs.docker.com/config/containers/logging/syslog/">Docker <code>syslog</code> driver</a> with the
<a href="/docs/reference/sources/syslog/">Vector <code>syslog</code> source</a>.</li><li>The <a href="https://docs.docker.com/config/containers/logging/journald/">Docker <code>journald</code> driver</a> with the
<a href="/docs/reference/sources/journald/">Vector <code>journald</code> source</a>.</li><li>The <a href="https://docs.docker.com/config/containers/logging/splunk/">Docker <code>splunk</code> driver</a> with the
<a href="/docs/reference/sources/splunk_hec/">Vector <code>splunk_hec</code> source</a>.</li></ol><p>To our knowledge there is no discernable difference in performance or stability
between any of these. If we had to recommend one, we would recommend the
<code>syslog</code> combination.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="docker-logging-drivers"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#docker-logging-drivers" title="Direct link to heading">#</a>Docker Logging Drivers</h3><p>In order for the Vector <code>docker</code> source to work properly, you must configure
the <a href="https://docs.docker.com/config/containers/logging/json-file/"><code>json-file</code></a> (default) or
<a href="https://docs.docker.com/config/containers/logging/journald/"><code>journald</code></a> Docker logging drivers.
This is a requirement of the <a href="https://docs.docker.com/engine/docker-overview/#the-docker-daemon">Docker daemon</a>, which Vector
uses to integrate. See the
<a href="#docker-integration-strategy">Docker Integration Strategy section</a> for more
info.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="environment-variables"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#environment-variables" title="Direct link to heading">#</a>Environment Variables</h3><p>Environment variables are supported through all of Vector&#x27;s configuration.
Simply add <code>${MY_ENV_VAR}</code> in your Vector configuration file and the variable
will be replaced before being evaluated.</p><p>You can learn more in the
<a href="/docs/setup/configuration/#environment-variables">Environment Variables</a> section.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="message-splitting--merging"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#message-splitting--merging" title="Direct link to heading">#</a>Message Splitting &amp; Merging</h3><p>Docker, by default, will split log messages that exceed 16kb. This can be a
rather frustrating problem because it produces malformed log messages that are
difficult to work with. Vector&#x27;s <code>docker</code> source solves this by default,
automatically merging these messages into a single message. You can turn this
off via the <a href="#auto_partial_merge"><code>auto_partial_merge</code></a> option. Furthermore, you can adjust the marker
that we use to determine if an event is partial via the
<code>partial_event_marker_field</code> option.</p></div></article></div></div><div class="rightCol_38kP"><div class="table-of-contents tableOfContents_tVyB"><div class="section"><div class="title">Support</div><div><a class="text--warning" title="This component is in beta and is not recommended for production environments. Click to learn more." href="/docs/about/guarantees/#beta"><i class="feather icon-alert-triangle"></i> Beta Status</a></div><div><a class="text--warning" title="This component makes a best-effort delivery guarantee, and in rare cases can lose data. Click to learn more." href="/docs/about/guarantees/#best-effort"><i class="feather icon-shield-off"></i> Best-Effort Delivery</a></div><div><a title="This component works on the these event types." href="/docs/about/data-model/"><i class="feather icon-database"></i> <span class="text--primary">Log</span><span>, </span><del class="text--warning">Metric</del></a></div><div><a title="This component works on the Linux, MacOS, Windows operating systems." href="/docs/setup/installation/operating-systems/"><i class="feather icon-cpu"></i> <span class="text--primary">Linux</span><span>, </span><span class="text--primary">MacOS</span><span>, </span><span class="text--primary">Windows</span></a></div></div><div class="section"><div class="title">Contents</div><ul class="contents"><li><a href="#requirements" class="contents__link">Requirements</a></li><li><a href="#configuration" class="contents__link">Configuration</a><ul><li><a href="#auto_partial_merge" class="contents__link">auto_partial_merge</a></li><li><a href="#include_containers" class="contents__link">include_containers</a></li><li><a href="#include_images" class="contents__link">include_images</a></li><li><a href="#include_labels" class="contents__link">include_labels</a></li><li><a href="#partial_event_marker_field" class="contents__link">partial_event_marker_field</a></li></ul></li><li><a href="#env-vars" class="contents__link">Env Vars</a><ul><li><a href="#docker_host" class="contents__link">DOCKER_HOST</a></li><li><a href="#docker_verify_tls" class="contents__link">DOCKER_VERIFY_TLS</a></li></ul></li><li><a href="#fields" class="contents__link">Fields</a><ul><li><a href="#container_created_at" class="contents__link">container_created_at</a></li><li><a href="#container_id" class="contents__link">container_id</a></li><li><a href="#container_name" class="contents__link">container_name</a></li><li><a href="#image" class="contents__link">image</a></li><li><a href="#label-key" class="contents__link"><code>[label-key]</code></a></li><li><a href="#message" class="contents__link">message</a></li><li><a href="#stream" class="contents__link">stream</a></li><li><a href="#timestamp" class="contents__link">timestamp</a></li></ul></li><li><a href="#how-it-works" class="contents__link">How It Works</a><ul><li><a href="#connecting-to-the-docker-daemon" class="contents__link">Connecting To The Docker Daemon</a></li><li><a href="#docker-integration-strategy" class="contents__link">Docker Integration Strategy</a></li><li><a href="#docker-logging-drivers" class="contents__link">Docker Logging Drivers</a></li><li><a href="#environment-variables" class="contents__link">Environment Variables</a></li><li><a href="#message-splitting--merging" class="contents__link">Message Splitting &amp; Merging</a></li></ul></li></ul></div><div class="section"><div class="title">Resources</div><ul class="contents"><li><a href="https://github.com/timberio/vector/issues?q=is%3Aopen+is%3Aissue+label%3A%22source%3A+docker%22" class="contents__link" target="_blank"><i class="feather icon-message-circle"></i> View Issues</a></li><li><a href="https://github.com/timberio/vector/tree/master/src/sources/docker.rs" class="contents__link" target="_blank"><i class="feather icon-github"></i> View Source</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">About</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/about/what-is-shiftm/">What is Shift&#x27;M?</a></li><li class="footer__item"><a class="footer__link-item" href="/community/#team">Terms and Conditions</a></li><li class="footer__item"><a class="footer__link-item" to="https://shiftm.com/contact" href="https://shiftm.com/contact">Contact Us</a></li><li class="footer__item"><a class="footer__link-item" href="/mailing_list/">Mailing List</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Mobile</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://www.apple.com/ios/app-store">App Store</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://play.google.com/store?hl=en">Play Store</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://facebook.com/shiftmhealthcare">Facebook</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://instagram.com/shiftm_">Instagram</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://twitter.com/ShiftM_">Twitter</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://linkedIn.com/company/Shift-m">LinkedIn</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://shiftm.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_3L_r"></a></div>Copyright © 2020 Shift&#x27;M B.V<br></div></div></footer>
</div>

<script src="/styles.c7889ac6.js"></script>

<script src="/runtime~main.3e18c44a.js"></script>

<script src="/main.60c2c36d.js"></script>

<script src="/common.986d0602.js"></script>

<script src="/3.70e6c0a0.js"></script>

<script src="/4.c71eb10d.js"></script>

<script src="/1be78505.ea7d5101.js"></script>

<script src="/20ac7829.210f62b9.js"></script>

<script src="/17896441.ad265b5a.js"></script>

<script src="/2.415e5bbe.js"></script>

<script src="/d5f41028.121835d0.js"></script>


</body>
</html>