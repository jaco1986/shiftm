(window.webpackJsonp=window.webpackJsonp||[]).push([[846],{1005:function(e,t,i){"use strict";i.r(t),i.d(t,"frontMatter",(function(){return a})),i.d(t,"metadata",(function(){return r})),i.d(t,"rightToc",(function(){return c})),i.d(t,"default",(function(){return l}));var n=i(1),o=i(9),s=(i(0),i(1139)),a={last_modified_on:"2020-04-16",$schema:"/.meta/.schemas/highlights.json",title:"The `elasticsearch` sink `compression` option now defaults to `none`",description:"Compression is not supported by all Elasticsearch service providers",author_github:"https://github.com/binarylogic",hide_on_release_notes:!1,pr_numbers:[2219],release:"0.9.0",tags:["type: breaking change","domain: sinks","sink: elasticsearch"]},r={date:"2020-04-05T00:00:00.000Z",description:"Compression is not supported by all Elasticsearch service providers",permalink:"/highlights/2020-04-05-default-compression-to-none",readingTime:"1 min read",source:"@site/highlights/2020-04-05-default-compression-to-none.md",tags:[{label:"type: breaking change",permalink:"/highlights/tags/type-breaking-change"},{label:"domain: sinks",permalink:"/highlights/tags/domain-sinks"},{label:"sink: elasticsearch",permalink:"/highlights/tags/sink-elasticsearch"}],title:"The `elasticsearch` sink `compression` option now defaults to `none`",truncated:!1,prevItem:{title:"The Vector Source Now Accepts Metrics",permalink:"/highlights/2020-04-07-vector-to-vector-metrics"},nextItem:{title:"More Condition Predicates",permalink:"/highlights/2020-04-01-more-condition-predicates"}},c=[{value:"Upgrade Guide",id:"upgrade-guide",children:[]}],p={rightToc:c};function l(e){var t=e.components,i=Object(o.a)(e,["components"]);return Object(s.b)("wrapper",Object(n.a)({},p,i,{components:t,mdxType:"MDXLayout"}),Object(s.b)("p",null,"To optimize throughput we originally defaulted the ",Object(s.b)("inlineCode",{parentName:"p"},"elasticsearch")," sink\n",Object(s.b)("inlineCode",{parentName:"p"},"compression")," option to ",Object(s.b)("inlineCode",{parentName:"p"},"gzip"),". It is our philosohpy that Vector's defaults\nshould optimize performance and throughput, but not at the expense of causing\nerrors. Unfortunately, AWS hosted Elasticsearch does not support compression,\nand therefore we've made this feature opt-in."),Object(s.b)("h3",{id:"upgrade-guide"},"Upgrade Guide"),Object(s.b)("p",null,"Upgrading is easy. Add the following if you want to enabled Gzip compression:"),Object(s.b)("pre",null,Object(s.b)("code",Object(n.a)({parentName:"pre"},{className:"language-diff",metastring:'title="vector.toml"',title:'"vector.toml"'}),' [sinks.es]\n   type = "elasticsearch"\n+  compression = "gzip"\n')))}l.isMDXComponent=!0}}]);