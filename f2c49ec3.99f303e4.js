(window.webpackJsonp=window.webpackJsonp||[]).push([[907],{1066:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return a})),t.d(n,"metadata",(function(){return l})),t.d(n,"rightToc",(function(){return s})),t.d(n,"default",(function(){return d}));var i=t(1),o=(t(0),t(1118));const a={last_modified_on:"2020-04-17",$schema:"/.meta/.schemas/highlights.json",title:"New Encoding Options",description:"Vector now lets you whitelist, blacklist, and format fields when events are encoded",author_github:"https://github.com/binarylogic",pr_numbers:[1915],release:"0.9.0",hide_on_release_notes:!1,tags:["type: enhancement","domain: sinks"]},l={date:"2020-03-04T00:00:00.000Z",description:"Vector now lets you whitelist, blacklist, and format fields when events are encoded",permalink:"/highlights/2020-03-04-encoding-only-fields-except-fields",readingTime:"1 min read",source:"@site/highlights/2020-03-04-encoding-only-fields-except-fields.md",tags:[{label:"type: enhancement",permalink:"/highlights/tags/type-enhancement"},{label:"domain: sinks",permalink:"/highlights/tags/domain-sinks"}],title:"New Encoding Options",truncated:!1,prevItem:{title:"Compression Now Available In The Kafka Sink",permalink:"/highlights/2020-03-09-kafka-sink-compression"},nextItem:{title:"Whitelist & Blacklist Fields When Encoding",permalink:"/highlights/2020-03-04-encoding-whitelist-blacklist"}},s=[{value:"Upgrade Guide",id:"upgrade-guide",children:[]}],c={rightToc:s};function d({components:e,...n}){return Object(o.b)("wrapper",Object(i.a)({},c,n,{components:e,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Vector has deprecated the root-level ",Object(o.b)("inlineCode",{parentName:"p"},"encoding")," option in favor of new\n",Object(o.b)("inlineCode",{parentName:"p"},"encoding.*")," sub-options:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"encoding.only_fields")," - Encode only the fields listed."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"encoding.except_fields")," - Encode all fields except the ones listed."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"encoding.codec")," - The codec to use (ex: ",Object(o.b)("inlineCode",{parentName:"li"},"json"),")."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"encoding.timestamp_format")," - Customize how timestamps are serialized.")),Object(o.b)("h2",{id:"upgrade-guide"},"Upgrade Guide"),Object(o.b)("p",null,"Updrading is easy:"),Object(o.b)("pre",null,Object(o.b)("code",Object(i.a)({parentName:"pre"},{className:"language-toml",metastring:'title="vector.toml"',title:'"vector.toml"'}),' [sinks.my-sink]\n   type = "..."\n-  encoding = "json"\n+  encoding.codec = "json"\n+  encoding.except_fields = ["_meta"] # optional\n+  encoding.timestamp_format = "rfc3339" # optional\n')))}d.isMDXComponent=!0}}]);