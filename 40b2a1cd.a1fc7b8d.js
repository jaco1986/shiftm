(window.webpackJsonp=window.webpackJsonp||[]).push([[246],{401:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return b})),a.d(t,"metadata",(function(){return i})),a.d(t,"rightToc",(function(){return s})),a.d(t,"default",(function(){return p}));var n=a(1),o=(a(0),a(1118)),l=a(1162),r=a(1153),c=a(1152);const b={last_modified_on:"2020-03-27",$schema:"/.meta/.schemas/guides.json",title:"Troubleshooting",description:"A guide on debugging and troubleshooting Vector",author_github:"https://github.com/binarylogic",tags:["type: guide","domain: operations"]},i={categories:[{name:"advanced",title:"Advanced",description:"Go beyond the basics, become a Vector pro, and extract the full potential of Vector.",permalink:"/guides/advanced"}],coverLabel:"Troubleshooting",description:"A guide on debugging and troubleshooting Vector",permalink:"/guides/advanced/troubleshooting",readingTime:"3 min read",source:"@site/guides/advanced/troubleshooting.md",tags:[{label:"type: guide",permalink:"/guides/tags/type-guide"},{label:"domain: operations",permalink:"/guides/tags/domain-operations"}],title:"Troubleshooting",truncated:!1,prevItem:{title:"Parsing CSV logs with Lua",permalink:"/guides/advanced/parsing-csv-logs-with-lua"},nextItem:{title:"Unit Testing Your Configs",permalink:"/guides/advanced/unit-testing"}},s=[{value:"1. Check for any known issues",id:"1-check-for-any-known-issues",children:[]},{value:"2. Check Vector&#39;s logs",id:"2-check-vectors-logs",children:[]},{value:"3. Enable backtraces",id:"3-enable-backtraces",children:[]},{value:"4. Enable debug logging",id:"4-enable-debug-logging",children:[]},{value:"5. Get help",id:"5-get-help",children:[]}],u={rightToc:s};function p({components:e,...t}){return Object(o.b)("wrapper",Object(n.a)({},u,t,{components:e,mdxType:"MDXLayout"}),Object(o.b)("p",null,"This guide covers troubleshooting Vector. The sections are intended to be\nfollowed in order."),Object(o.b)("p",null,"First, we're sorry to hear that you are having trouble with Vector. Reliability\nand operator friendliness are ",Object(o.b)("em",{parentName:"p"},"very")," important to us, and we urge you to\n",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/timberio/vector/issues/new?labels=type%3A+bug"}),"open an issue")," to let us know what's going on. This helps\nus improve Vector."),Object(o.b)("h2",{id:"1-check-for-any-known-issues"},"1. Check for any known issues"),Object(o.b)("p",null,"Start by searching ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/timberio/vector/issues"}),"Vector's issues"),". You can filter\nto the specific component via the ",Object(o.b)("inlineCode",{parentName:"p"},"lable")," filter."),Object(o.b)("h2",{id:"2-check-vectors-logs"},"2. Check Vector's logs"),Object(o.b)("p",null,"We've taken great care to ensure Vector's logs are high-quality and helpful.\nIn most cases the logs will surface the issue:"),Object(o.b)(r.a,{block:!0,defaultValue:"manual",values:[{label:"Manual",value:"manual"},{label:"Systemd",value:"systemd"},{label:"Initd",value:"initd"},{label:"Homebrew",value:"homebrew"}],mdxType:"Tabs"},Object(o.b)(c.a,{value:"manual",mdxType:"TabItem"},Object(o.b)("p",null,"If you are not using a service manager, and you're redirecting Vector's\noutput to a file then you can use a utility like ",Object(o.b)("inlineCode",{parentName:"p"},"tail")," to access your logs:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"tail /var/log/vector.log\n"))),Object(o.b)(c.a,{value:"systemd",mdxType:"TabItem"},Object(o.b)("p",null,"Tail logs:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"sudo journalctl -fu vector\n"))),Object(o.b)(c.a,{value:"initd",mdxType:"TabItem"},Object(o.b)("p",null,"Tail logs:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"tail -f /var/log/vector.log\n"))),Object(o.b)(c.a,{value:"homebrew",mdxType:"TabItem"},Object(o.b)("p",null,"Tail logs:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"tail -f /usr/local/var/log/vector.log\n")))),Object(o.b)("h2",{id:"3-enable-backtraces"},"3. Enable backtraces"),Object(o.b)(l.a,{type:"info",mdxType:"Alert"},Object(o.b)("p",null,"You can skip to the ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"#3-enable-debug-logging"}),"next section")," if you do not\nhave an exception in your logs.")),Object(o.b)("p",null,"If you see an exception in Vector's logs then we've clearly found the issue.\nBefore you report a bug, please enable backtraces:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"RUST_BACKTRACE=full vector --config=/etc/vector/vector.toml\n")),Object(o.b)("p",null,"Backtraces are ",Object(o.b)("em",{parentName:"p"},"critical")," for debugging errors. Once you have the backtrace\nplease ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/timberio/vector/issues/new?labels=type%3A+bug"}),"open a bug report issue"),"."),Object(o.b)("h2",{id:"4-enable-debug-logging"},"4. Enable debug logging"),Object(o.b)("p",null,"If you do not see an error in your Vector logs, and the Vector logs appear\nto be frozen, then you'll want to drop your log level to ",Object(o.b)("inlineCode",{parentName:"p"},"debug"),":"),Object(o.b)(l.a,{type:"info",mdxType:"Alert"},Object(o.b)("p",null,"Vector ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/administration/monitoring/#rate-limiting"}),"rate limits")," logs in the hot path.\nAs a result, dropping to the ",Object(o.b)("inlineCode",{parentName:"p"},"debug")," level is safe for production environments.")),Object(o.b)(r.a,{block:!0,defaultValue:"env_var",values:[{label:"Env Var",value:"env_var"},{label:"Flag",value:"flag"}],mdxType:"Tabs"},Object(o.b)(c.a,{value:"env_var",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"LOG=debug vector --config=/etc/vector/vector.toml\n"))),Object(o.b)(c.a,{value:"flag",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"vector --verbose --config=/etc/vector/vector.toml\n")))),Object(o.b)("h2",{id:"5-get-help"},"5. Get help"),Object(o.b)("p",null,"At this point we recommend reaching out to the community for help."),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"If encountered a bug, please ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/timberio/vector/issues/new?labels=type%3A+bug"}),"file a bug report")),Object(o.b)("li",{parentName:"ol"},"If encountered a missing feature, please ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://github.com/timberio/vector/issues/new?labels=type%3A+new+feature"}),"file a feature request"),"."),Object(o.b)("li",{parentName:"ol"},"If you need help, ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://chat.vector.dev"}),"join our chat community"),". You can post a question and search previous questions.")))}p.isMDXComponent=!0}}]);