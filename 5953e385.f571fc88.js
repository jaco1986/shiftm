(window.webpackJsonp=window.webpackJsonp||[]).push([[300],{412:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return u})),a.d(t,"metadata",(function(){return m})),a.d(t,"rightToc",(function(){return d})),a.d(t,"default",(function(){return b}));var n=a(1),l=a(6),r=(a(0),a(924)),c=a(939),i=a(940),s=a(942),o=a(941),u={last_modified_on:"2020-05-21",delivery_guarantee:"at_least_once",component_title:"Blackhole",description:"The Vector `blackhole` sink streams `log` and `metric` events to a blackhole that simply discards data, designed for testing and benchmarking purposes.",event_types:["log","metric"],function_category:"test",issues_url:"https://github.com/timberio/vector/issues?q=is%3Aopen+is%3Aissue+label%3A%22sink%3A+blackhole%22",operating_systems:["Linux","MacOS","Windows"],sidebar_label:'blackhole|["log","metric"]',source_url:"https://github.com/timberio/vector/tree/master/src/sinks/blackhole.rs",status:"prod-ready",title:"Blackhole Sink",unsupported_operating_systems:[]},m={id:"reference/sinks/blackhole",title:"Blackhole Sink",description:"The Vector `blackhole` sink streams `log` and `metric` events to a blackhole that simply discards data, designed for testing and benchmarking purposes.",source:"@site/docs/reference/sinks/blackhole.md",permalink:"/docs/reference/sinks/blackhole",sidebar_label:'blackhole|["log","metric"]'},d=[{value:"Configuration",id:"configuration",children:[{value:"print_amount",id:"print_amount",children:[]}]},{value:"How It Works",id:"how-it-works",children:[{value:"Environment Variables",id:"environment-variables",children:[]},{value:"Health Checks",id:"health-checks",children:[]},{value:"Streaming",id:"streaming",children:[]}]}],p={rightToc:d};function b(e){var t=e.components,a=Object(l.a)(e,["components"]);return Object(r.b)("wrapper",Object(n.a)({},p,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"The Vector ",Object(r.b)("inlineCode",{parentName:"p"},"blackhole")," sink\n",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"#streaming"}),"streams")," ","[",Object(r.b)("inlineCode",{parentName:"p"},"log"),"][docs.data-model.log]"," and\n","[",Object(r.b)("inlineCode",{parentName:"p"},"metric"),"][docs.data-model.metric]"," events to a blackhole that simply discards\ndata, designed for testing and benchmarking purposes."),Object(r.b)("h2",{id:"configuration"},"Configuration"),Object(r.b)(s.a,{block:!0,defaultValue:"common",values:[{label:"Common",value:"common"},{label:"Advanced",value:"advanced"}],mdxType:"Tabs"},Object(r.b)(o.a,{value:"common",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-toml",metastring:'title="vector.toml"',title:'"vector.toml"'}),'[sinks.my_sink_id]\n  type = "blackhole" # required\n  inputs = ["my-source-or-transform-id"] # required\n  print_amount = 1000 # required\n'))),Object(r.b)(o.a,{value:"advanced",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-toml",metastring:'title="vector.toml"',title:'"vector.toml"'}),'[sinks.my_sink_id]\n  type = "blackhole" # required\n  inputs = ["my-source-or-transform-id"] # required\n  print_amount = 1000 # required\n')))),Object(r.b)(c.a,{filters:!0,mdxType:"Fields"},Object(r.b)(i.a,{common:!0,defaultValue:null,enumValues:null,examples:[1e3],groups:[],name:"print_amount",path:null,relevantWhen:null,required:!0,templateable:!1,type:"uint",unit:null,warnings:[],mdxType:"Field"},Object(r.b)("h3",{id:"print_amount"},"print_amount"),Object(r.b)("p",null,"The number of events that must be received in order to print a summary of\nactivity."))),Object(r.b)("h2",{id:"how-it-works"},"How It Works"),Object(r.b)("h3",{id:"environment-variables"},"Environment Variables"),Object(r.b)("p",null,"Environment variables are supported through all of Vector's configuration.\nSimply add ",Object(r.b)("inlineCode",{parentName:"p"},"${MY_ENV_VAR}")," in your Vector configuration file and the variable\nwill be replaced before being evaluated."),Object(r.b)("p",null,"You can learn more in the\n",Object(r.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/setup/configuration/#environment-variables"}),"Environment Variables")," section."),Object(r.b)("h3",{id:"health-checks"},"Health Checks"),Object(r.b)("p",null,"Health checks ensure that the downstream service is accessible and ready to\naccept data. This check is performed upon sink initialization.\nIf the health check fails an error will be logged and Vector will proceed to\nstart."),Object(r.b)("h4",{id:"require-health-checks"},"Require Health Checks"),Object(r.b)("p",null,"If you'd like to exit immediately upon a health check failure, you can\npass the ",Object(r.b)("inlineCode",{parentName:"p"},"--require-healthy")," flag:"),Object(r.b)("pre",null,Object(r.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"vector --config /etc/vector/vector.toml --require-healthy\n")),Object(r.b)("h4",{id:"disable-health-checks"},"Disable Health Checks"),Object(r.b)("p",null,"If you'd like to disable health checks for this sink you can set the\n",Object(r.b)("inlineCode",{parentName:"p"},"healthcheck")," option to ",Object(r.b)("inlineCode",{parentName:"p"},"false"),"."),Object(r.b)("h3",{id:"streaming"},"Streaming"),Object(r.b)("p",null,"The ",Object(r.b)("inlineCode",{parentName:"p"},"blackhole")," sink streams data on a real-time\nevent-by-event basis. It does not batch data."))}b.isMDXComponent=!0},936:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(934),c=a(932),i=a.n(c);a(93);var s=function({className:e,size:t,style:a,text:n}){return l.a.createElement(r.a,{to:"/vic/",className:i()("vic","vic--"+t,e)},l.a.createElement("div",{className:"icon"},l.a.createElement("img",{src:`/img/vicmojis/vic${a}.svg`,alt:"Vic - The Vector Mascot"})),n&&l.a.createElement("div",{className:"text"},n))};t.a=function({text:e}){return l.a.createElement("section",{className:"empty"},l.a.createElement(s,{style:"no",text:e}))}},938:function(e,t,a){"use strict";a(12);var n=a(0),l=a.n(n),r=a(947),c=a.n(r);t.a=function({currentState:e,humanize:t,icon:a,name:n,setState:r,values:i}){if(0==i.size)return null;let s=Array.from(i);return l.a.createElement(l.a.Fragment,null,s.map((i,s)=>{let o="string"==typeof i&&t?c()(i):i;return l.a.createElement("label",{key:s},l.a.createElement("input",{checked:e.has(i),name:n,onChange:t=>{let a=new Set(e);t.currentTarget.checked?a.add(i):a.delete(i),r(a)},type:"checkbox"}),o&&l.a.createElement(l.a.Fragment,null,a?l.a.createElement("i",{className:"feather icon-"+a}):""," ",o))}))}},939:function(e,t,a){"use strict";a(12);var n=a(0),l=a.n(n),r=a(938),c=a(936),i=a(946),s=a.n(i);t.a=function({children:e,filters:t}){const[a,i]=Object(n.useState)(!1),[o,u]=Object(n.useState)(new Set),[m,d]=Object(n.useState)(!1),[p,b]=Object(n.useState)(null);let h=[];e&&(h=Array.isArray(e)?e:[e]);let g=h.some(e=>e.props.common),f=s()(h).flatMap(e=>e.props.groups).uniq().value(),v=h.some(e=>e.props.required),k=h;return a&&(k=k.filter(e=>e.props.common)),o.size>0&&(k=k.filter(e=>Array.from(o).every(t=>e.props.groups.includes(t)))),m&&(k=k.filter(e=>e.props.required)),p&&(k=k.filter(e=>e.props.name.toLowerCase().includes(p.toLowerCase()))),l.a.createElement(l.a.Fragment,null,h.length>1&&!1!==t?l.a.createElement("div",{className:"filters"},l.a.createElement("div",{className:"search"},l.a.createElement("span",{className:"search--result-count"},k.length," items"),l.a.createElement("input",{className:"input--text input--lg",type:"text",onChange:e=>b(e.currentTarget.value),placeholder:"\ud83d\udd0d Search..."})),l.a.createElement("div",{className:"filter"},l.a.createElement("div",{className:"filter--choices"},l.a.createElement(r.a,{values:f,currentState:o,setState:u}),g&&l.a.createElement("label",{title:"Only show popular/common results"},l.a.createElement("input",{type:"checkbox",onChange:e=>i(e.currentTarget.checked),checked:a}),"common"),v&&l.a.createElement("label",{title:"Only show required results"},l.a.createElement("input",{type:"checkbox",onChange:e=>d(e.currentTarget.checked),checked:m}),"required")))):null,!Array.isArray(k)||k.length>0?l.a.createElement("ul",{className:"connected-list"},k):l.a.createElement(c.a,{text:"no components found"}))}},940:function(e,t,a){"use strict";a(12);var n=a(0),l=a.n(n),r=a(932),c=a.n(r),i=(a(924),a(948));function s(e){return e.includes(".")?'"'+e+'"':e}function o(e){return"string"==typeof e&&e.includes("\n")?`"""\n${e}\n"""`:JSON.stringify(e)}function u(e,t){return(a=t)&&a.constructor===Object?"name"in t&&"value"in t?`${s(t.name)} = ${o(t.value)}`:`${s(Object.keys(t)[0])} = ${o(Object.values(t)[0])}`:e?`${s(e)} = ${o(t)}`:o(t);var a}function m({values:e}){let t=[];if(Array.isArray(e))for(var a in e){let n=e[a];t.push(l.a.createElement("code",{key:n},o(n))),t.push(" ")}else for(var n in e)t.push(l.a.createElement("code",{key:n,className:"with-info-icon",title:e[n]},o(n))),t.push(" ");return t}function d({name:e,path:t,values:a}){let n="";return a.forEach((function(a){t&&(n+=t+"."),n+=u(e,a)+"\n"})),l.a.createElement("div",null,l.a.createElement(i.a,{className:"language-toml"},n))}function p({unit:e,value:t}){let a="";return e&&(a=l.a.createElement(l.a.Fragment,null," (",e,")")),l.a.createElement(l.a.Fragment,null,l.a.createElement("code",null,o(t)),a)}function b({value:e}){let t=Object.keys(e)[0],a=Object.values(e)[0];return""==a&&(a=null),l.a.createElement("span",null,l.a.createElement("code",null,l.a.createElement("a",{href:"#"+t},t))," ","= ",l.a.createElement("code",null,o(a)))}function h({defaultValue:e,enumValues:t,examples:a,groups:r,name:c,path:i,relevantWhen:s,required:o,unit:u,warnings:h}){const[g,f]=Object(n.useState)(!1);return l.a.createElement("ul",{className:"info"},h&&h.length>0&&h.map((e,t)=>l.a.createElement("li",{key:t,className:"warning"},l.a.createElement("i",{className:"feather icon-alert-triangle"})," WARNING:"," ",e.text)),s&&l.a.createElement("li",null,"Only ",o?"required":"relevant"," when:"," ",l.a.createElement(b,{value:s})),void 0!==e?null!==e?l.a.createElement("li",null,"Default: ",l.a.createElement(p,{unit:u,value:e})):l.a.createElement("li",null,"No default"):null,t&&l.a.createElement("li",null,"Enum, must be one of: ",l.a.createElement(m,{values:t})),(a.length>1||a[0]!=e)&&l.a.createElement("li",null,l.a.createElement("div",{className:"show-more",onClick:()=>f(!g)},g?"Hide examples":"View examples"),g&&l.a.createElement(d,{name:c,path:i,values:a})))}t.a=function({children:e,common:t,defaultValue:a,enumValues:r,examples:i,groups:s,name:o,path:u,relevantWhen:m,required:d,templateable:p,type:b,unit:g,warnings:f}){const[v,k]=Object(n.useState)(!1);let y=e;return v&&(y=y.filter(e=>"p"!=e.props.originalType)),l.a.createElement("li",{className:c()({"field-required":d,"field-collapsed":v}),required:d},l.a.createElement("div",{className:"badges"},p&&l.a.createElement("span",{className:"badge badge--primary with-info-icon",title:"This option is dynamic and accepts the Vector template syntax"},"templateable"),b&&l.a.createElement("span",{className:"badge badge--secondary"},b,g&&l.a.createElement(l.a.Fragment,null," (",g,")")),r&&Object.keys(r).length>0&&l.a.createElement("span",{className:"badge badge--secondary with-info-icon",title:"This option is an enumation and only allows specific values"},"enum"),t&&l.a.createElement("span",{className:"badge badge--primary with-info-icon",title:"This is a popular that we recommend for getting started"},"common"),d?l.a.createElement("span",{className:"badge badge--danger"},"required",m&&"*"):l.a.createElement("span",{className:"badge badge--secondary"},"optional")),y,!v&&"table"!=b&&l.a.createElement(h,{defaultValue:a,enumValues:r,examples:i,groups:s,name:o,path:u,relevantWhen:m,required:d,unit:g,warnings:f}))}}}]);