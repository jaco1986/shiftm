(window.webpackJsonp=window.webpackJsonp||[]).push([[308],{420:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return m})),n.d(t,"rightToc",(function(){return p})),n.d(t,"default",(function(){return h}));var a=n(1),l=n(6),i=(n(0),n(928)),s=n(945),r=n(946),o=n(944),u=n(943),c={last_modified_on:"2020-06-24",title:"Unit Tests",description:"Vector's unit test configuration options, allowing you to unit test your Vector configuration files.",status:"beta"},m={id:"reference/tests",title:"Unit Tests",description:"Vector's unit test configuration options, allowing you to unit test your Vector configuration files.",source:"@site/docs/reference/tests.md",permalink:"/docs/reference/tests"},p=[{value:"Configuration",id:"configuration",children:[{value:"inputs",id:"inputs",children:[]},{value:"name",id:"name-1",children:[]},{value:"no_outputs_from",id:"no_outputs_from",children:[]},{value:"outputs",id:"outputs",children:[]}]}],d={rightToc:p};function h(e){var t=e.components,n=Object(l.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},d,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"It's possible to define unit tests within a Vector configuration file that cover\na network of transforms within the topology. The intention of these tests is to\nimprove the maintainability of configs containing larger and more complex\ncombinations of transforms."),Object(i.b)("p",null,"Executing tests within a config file can be done with the ",Object(i.b)("inlineCode",{parentName:"p"},"test")," subcommand:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"vector test /etc/vector/*.toml\n")),Object(i.b)("h2",{id:"configuration"},"Configuration"),Object(i.b)(o.a,{block:!0,defaultValue:"common",values:[{label:"Common",value:"common"},{label:"Advanced",value:"advanced"}],mdxType:"Tabs"},Object(i.b)(u.a,{value:"common",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-toml",metastring:'title="vector.toml"',title:'"vector.toml"'}),'[transforms.foo]\n  type = "regex_parser"\n  regex = "^(?P<timestamp>[\\\\w\\\\-:\\\\+]+) (?P<level>\\\\w+) (?P<message>.*)$"\n\n[[tests]]\n  # Inputs\n  [[tests.inputs]]\n    insert_at = "foo" # required\n    type = "raw" # required\n    value = "some message contents" # required, required when type = "raw"\n\n  # General\n  name = "foo test" # required\n\n  # Outputs\n  [[tests.outputs]]\n    # Conditions\n    conditions.type = "check_fields" # optional, default\n    conditions."message.eq" = "this is the content to match against" # example\n    conditions."message.eq" = ["match this", "or this"] # example\n    conditions."message.contains" = "foo" # example\n    conditions."message.contains" = ["foo", "bar"] # example\n    conditions."environment.ends_with" = "-staging" # example\n    conditions."environment.ends_with" = ["-staging", "-running"] # example\n    conditions."message.regex" = " (any|of|these|five|words) " # example\n    conditions."environment.starts_with" = "staging-" # example\n    conditions."environment.starts_with" = ["staging-", "running-"] # example\n\n    # General\n    extract_from = "foo" # required\n'))),Object(i.b)(u.a,{value:"advanced",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-toml",metastring:'title="vector.toml"',title:'"vector.toml"'}),'[transforms.foo]\n  type = "regex_parser"\n  regex = "^(?P<timestamp>[\\\\w\\\\-:\\\\+]+) (?P<level>\\\\w+) (?P<message>.*)$"\n\n[[tests]]\n  # Inputs\n  [[tests.inputs]]\n    # General\n    insert_at = "foo" # required\n    type = "raw" # required\n    value = "some message contents" # required, required when type = "raw"\n\n    # Log fields\n    log_fields.message = "some message contents" # example\n    log_fields.host = "myhost" # example\n\n    # Metric\n    # General\n    metric.direction = "plus" # optional, no default\n    metric.name = "duration_total" # required\n    metric.sample_rate = 1 # optional, no default\n    metric.timestamp = "2019-11-01T21:15:47.443232Z" # required\n    metric.type = "counter" # required\n    metric.val = 10.2 # required\n\n    # Tags\n    metric.tags.host = "foohost" # example\n    metric.tags.region = "us-east-1" # example\n\n  # General\n  name = "foo test" # required\n  no_outputs_from = ["foo"] # required\n\n  # Outputs\n  [[tests.outputs]]\n    # Conditions\n    conditions.type = "check_fields" # optional, default\n    conditions."message.eq" = "this is the content to match against" # example\n    conditions."message.eq" = ["match this", "or this"] # example\n    conditions."host.exists" = true # example\n    conditions."method.neq" = "POST" # example\n    conditions."method.neq" = ["POST", "GET"] # example\n    conditions."message.not_contains" = "some phrase to ignore" # example\n    conditions."unit.not_starts_with" = "sys-" # example\n    conditions."unit.not_ends_with" = ".device" # example\n    conditions."message.contains" = "foo" # example\n    conditions."message.contains" = ["foo", "bar"] # example\n    conditions."environment.ends_with" = "-staging" # example\n    conditions."environment.ends_with" = ["-staging", "-running"] # example\n    conditions."message.ip_cidr_contains" = "10.0.0.0/8" # example\n    conditions."message.ip_cidr_contains" = ["2000::/10", "192.168.0.0/16"] # example\n    conditions."message.regex" = " (any|of|these|five|words) " # example\n    conditions."environment.starts_with" = "staging-" # example\n    conditions."environment.starts_with" = ["staging-", "running-"] # example\n\n    # General\n    extract_from = "foo" # required\n')))),Object(i.b)("p",null,"For more information about unit tests check out ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"/guides/advanced/calendar/"}),"this guide"),"."),Object(i.b)(s.a,{filters:!0,mdxType:"Fields"},Object(i.b)(r.a,{common:!0,defaultValue:null,enumValues:null,examples:[],groups:[],name:"inputs",path:null,relevantWhen:null,required:!0,templateable:!1,type:"[table]",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h3",{id:"inputs"},"inputs"),Object(i.b)("p",null,"A table that defines a unit test input event."),Object(i.b)(s.a,{filters:!1,mdxType:"Fields"},Object(i.b)(r.a,{common:!0,defaultValue:null,enumValues:null,examples:["foo"],groups:[],name:"insert_at",path:"inputs",relevantWhen:null,required:!0,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h4",{id:"insert_at"},"insert_at"),Object(i.b)("p",null,"The name of a transform, the input event will be delivered to this transform in\norder to begin the test.")),Object(i.b)(r.a,{common:!1,defaultValue:null,enumValues:null,examples:[],groups:[],name:"log_fields",path:"inputs",relevantWhen:{type:"log"},required:!0,templateable:!1,type:"table",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h4",{id:"log_fields"},"log_fields"),Object(i.b)("p",null,"Specifies the log fields when the input type is 'log'."),Object(i.b)(s.a,{filters:!1,mdxType:"Fields"},Object(i.b)(r.a,{common:!0,defaultValue:null,enumValues:null,examples:[{message:"some message contents"},{host:"myhost"}],groups:[],name:"`[field-name]`",path:"inputs.log_fields",relevantWhen:null,required:!0,templateable:!1,type:"*",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h5",{id:"field-name"},Object(i.b)("inlineCode",{parentName:"h5"},"[field-name]")),Object(i.b)("p",null,"A key/value pair representing a field to be added to the input event.")))),Object(i.b)(r.a,{common:!1,defaultValue:null,enumValues:null,examples:[],groups:[],name:"metric",path:"inputs",relevantWhen:{type:"metric"},required:!0,templateable:!1,type:"table",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h4",{id:"metric"},"metric"),Object(i.b)("p",null,"Specifies the metric type when the input type is 'metric'."),Object(i.b)(s.a,{filters:!1,mdxType:"Fields"},Object(i.b)(r.a,{common:!1,defaultValue:null,enumValues:{plus:"Increase the gauge",minus:"Decrease the gauge"},examples:["plus","minus"],groups:[],name:"direction",path:"inputs.metric",relevantWhen:null,required:!1,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h5",{id:"direction"},"direction"),Object(i.b)("p",null,"The direction to increase or decrease the gauge value.")),Object(i.b)(r.a,{common:!0,defaultValue:null,enumValues:null,examples:["duration_total"],groups:[],name:"name",path:"inputs.metric",relevantWhen:null,required:!0,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h5",{id:"name"},"name"),Object(i.b)("p",null,"The name of the metric. Defaults to ",Object(i.b)("inlineCode",{parentName:"p"},"<field>_total")," for ",Object(i.b)("inlineCode",{parentName:"p"},"counter")," and ",Object(i.b)("inlineCode",{parentName:"p"},"<field>"),"\nfor ",Object(i.b)("inlineCode",{parentName:"p"},"gauge"),".")),Object(i.b)(r.a,{common:!1,defaultValue:null,enumValues:null,examples:[1],groups:[],name:"sample_rate",path:"inputs.metric",relevantWhen:null,required:!1,templateable:!1,type:"float",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h5",{id:"sample_rate"},"sample_rate"),Object(i.b)("p",null,"The bucket/distribution the metric is a part of.")),Object(i.b)(r.a,{common:!0,defaultValue:null,enumValues:null,examples:[],groups:[],name:"tags",path:"inputs.metric",relevantWhen:null,required:!1,templateable:!1,type:"table",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h5",{id:"tags"},"tags"),Object(i.b)("p",null,"Key/value pairs representing ","[metric tags][docs.data-model.metric#tags]","."),Object(i.b)(s.a,{filters:!1,mdxType:"Fields"},Object(i.b)(r.a,{common:!0,defaultValue:null,enumValues:null,examples:[{host:"foohost"},{region:"us-east-1"}],groups:[],name:"`[tag-name]`",path:"inputs.metric.tags",relevantWhen:null,required:!0,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h6",{id:"tag-name"},Object(i.b)("inlineCode",{parentName:"h6"},"[tag-name]")),Object(i.b)("p",null,"Key/value pairs representing ","[metric tags][docs.data-model.metric#tags]",".")))),Object(i.b)(r.a,{common:!0,defaultValue:null,enumValues:null,examples:["2019-11-01T21:15:47.443232Z"],groups:[],name:"timestamp",path:"inputs.metric",relevantWhen:null,required:!0,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h5",{id:"timestamp"},"timestamp"),Object(i.b)("p",null,"Time metric was created/ingested.")),Object(i.b)(r.a,{common:!0,defaultValue:null,enumValues:{counter:"A [counter metric type][docs.data-model.metric#counter].",gauge:"A [gauge metric type][docs.data-model.metric#gauge].",histogram:"A [distribution metric type][docs.data-model.metric#distribution].",set:"A [set metric type][docs.data-model.metric#set]."},examples:["counter","gauge","histogram","set"],groups:[],name:"type",path:"inputs.metric",relevantWhen:null,required:!0,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h5",{id:"type"},"type"),Object(i.b)("p",null,"The metric type.")),Object(i.b)(r.a,{common:!0,defaultValue:null,enumValues:null,examples:[10.2],groups:[],name:"val",path:"inputs.metric",relevantWhen:null,required:!0,templateable:!1,type:"float",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h5",{id:"val"},"val"),Object(i.b)("p",null,"Amount to increment/decrement or gauge.")))),Object(i.b)(r.a,{common:!0,defaultValue:null,enumValues:{raw:"Creates a log event where the message contents are specified in the field 'value'.",log:"Creates a log event where log fields are specified in the table 'log_fields'.",metric:"Creates a metric event, where its type and fields are specified in the table 'metric'."},examples:["raw","log","metric"],groups:[],name:"type",path:"inputs",relevantWhen:null,required:!0,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h4",{id:"type-1"},"type"),Object(i.b)("p",null,"The event type.")),Object(i.b)(r.a,{common:!0,defaultValue:null,enumValues:null,examples:["some message contents"],groups:[],name:"value",path:"inputs",relevantWhen:{type:"raw"},required:!0,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h4",{id:"value"},"value"),Object(i.b)("p",null,"Specifies the log message field contents when the input type is 'raw'.")))),Object(i.b)(r.a,{common:!0,defaultValue:null,enumValues:null,examples:["foo test"],groups:[],name:"name",path:null,relevantWhen:null,required:!0,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h3",{id:"name-1"},"name"),Object(i.b)("p",null,"A unique identifier for this test.")),Object(i.b)(r.a,{common:!1,defaultValue:null,enumValues:null,examples:[["foo"]],groups:[],name:"no_outputs_from",path:null,relevantWhen:null,required:!0,templateable:!1,type:"[string]",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h3",{id:"no_outputs_from"},"no_outputs_from"),Object(i.b)("p",null,"A list of transforms that must NOT output events in order for the test to pass.")),Object(i.b)(r.a,{common:!0,defaultValue:null,enumValues:null,examples:[],groups:[],name:"outputs",path:null,relevantWhen:null,required:!0,templateable:!1,type:"[table]",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h3",{id:"outputs"},"outputs"),Object(i.b)("p",null,"A table that defines a unit test expected output."),Object(i.b)(s.a,{filters:!1,mdxType:"Fields"},Object(i.b)(r.a,{common:!0,defaultValue:null,enumValues:null,examples:[],groups:[],name:"conditions",path:"outputs",relevantWhen:null,required:!1,templateable:!1,type:"[table]",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h4",{id:"conditions"},"conditions"),Object(i.b)("p",null,"A table that defines a collection of conditions to check against the output of\na transform. A test is considered to have passed when each condition has\nresolved true for one or more events extracted from the target transform.An\nexpected output without conditions instead prints the input and output of a\ntarget without checking its values."),Object(i.b)(s.a,{filters:!1,mdxType:"Fields"},Object(i.b)(r.a,{common:!0,defaultValue:"check_fields",enumValues:{check_fields:"Allows you to check individual fields against a list of conditions.",is_log:"Returns true if the event is a log.",is_metric:"Returns true if the event is a metric."},examples:["check_fields","is_log","is_metric"],groups:[],name:"type",path:"outputs.conditions",relevantWhen:null,required:!1,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h5",{id:"type-2"},"type"),Object(i.b)("p",null,"The type of the condition to execute.")),Object(i.b)(r.a,{common:!0,defaultValue:null,enumValues:null,examples:[{"message.eq":"this is the content to match against"},{"message.eq":["match this","or this"]}],groups:[],name:"`[field-name]`.eq",path:"outputs.conditions",relevantWhen:{type:"check_fields"},required:!1,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h5",{id:"field-nameeq"},Object(i.b)("inlineCode",{parentName:"h5"},"[field-name]"),".eq"),Object(i.b)("p",null,"Check whether a fields contents exactly matches the value specified. This may\nbe a single string or a list of strings, in which case this evaluates to true\nif any of the list matches.")),Object(i.b)(r.a,{common:!1,defaultValue:null,enumValues:null,examples:[{"host.exists":!0}],groups:[],name:"`[field-name]`.exists",path:"outputs.conditions",relevantWhen:{type:"check_fields"},required:!1,templateable:!1,type:"bool",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h5",{id:"field-nameexists"},Object(i.b)("inlineCode",{parentName:"h5"},"[field-name]"),".exists"),Object(i.b)("p",null,"Check whether a field exists or does not exist, depending on the provided value\nbeing ",Object(i.b)("inlineCode",{parentName:"p"},"true")," or ",Object(i.b)("inlineCode",{parentName:"p"},"false")," respectively.")),Object(i.b)(r.a,{common:!1,defaultValue:null,enumValues:null,examples:[{"method.neq":"POST"},{"method.neq":["POST","GET"]}],groups:[],name:"`[field-name]`.neq",path:"outputs.conditions",relevantWhen:{type:"check_fields"},required:!1,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h5",{id:"field-nameneq"},Object(i.b)("inlineCode",{parentName:"h5"},"[field-name]"),".neq"),Object(i.b)("p",null,"Check whether a fields contents does not match the value specified. This may be\na single string or a list of strings, in which case this evaluates to false if\nany of the list matches.")),Object(i.b)(r.a,{common:!1,defaultValue:null,enumValues:null,examples:[{"message.not_contains":"some phrase to ignore"},{"unit.not_starts_with":"sys-"},{"unit.not_ends_with":".device"}],groups:[],name:"`[field-name]`.not_`[condition]`",path:"outputs.conditions",relevantWhen:{type:"check_fields"},required:!1,templateable:!1,type:"any",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h5",{id:"field-namenot_condition"},Object(i.b)("inlineCode",{parentName:"h5"},"[field-name]"),".not_",Object(i.b)("inlineCode",{parentName:"h5"},"[condition]")),Object(i.b)("p",null,"Check if the given ",Object(i.b)("inlineCode",{parentName:"p"},"[condition]")," does not match.")),Object(i.b)(r.a,{common:!0,defaultValue:null,enumValues:null,examples:[{"message.contains":"foo"},{"message.contains":["foo","bar"]}],groups:[],name:"`[field_name]`.contains",path:"outputs.conditions",relevantWhen:{type:"check_fields"},required:!1,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h5",{id:"field_namecontains"},Object(i.b)("inlineCode",{parentName:"h5"},"[field_name]"),".contains"),Object(i.b)("p",null,"Checks whether a string field contains a string argument. This may be a single\nstring or a list of strings, in which case this evaluates to true if any of the\nlist matches.")),Object(i.b)(r.a,{common:!0,defaultValue:null,enumValues:null,examples:[{"environment.ends_with":"-staging"},{"environment.ends_with":["-staging","-running"]}],groups:[],name:"`[field_name]`.ends_with",path:"outputs.conditions",relevantWhen:{type:"check_fields"},required:!1,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h5",{id:"field_nameends_with"},Object(i.b)("inlineCode",{parentName:"h5"},"[field_name]"),".ends_with"),Object(i.b)("p",null,"Checks whether a string field ends with a string argument. This may be a single\nstring or a list of strings, in which case this evaluates to true if any of the\nlist matches.")),Object(i.b)(r.a,{common:!1,defaultValue:null,enumValues:null,examples:[{"message.ip_cidr_contains":"10.0.0.0/8"},{"message.ip_cidr_contains":["2000::/10","192.168.0.0/16"]}],groups:[],name:"`[field_name]`.ip_cidr_contains",path:"outputs.conditions",relevantWhen:{type:"check_fields"},required:!1,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h5",{id:"field_nameip_cidr_contains"},Object(i.b)("inlineCode",{parentName:"h5"},"[field_name]"),".ip_cidr_contains"),Object(i.b)("p",null,"Checks whether an IP field is contained within a given ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing"}),"IP CIDR"),"\n(works with IPv4 and IPv6). This may be a single string or a list of strings,\nin which case this evaluates to true if the IP field is contained within any of\nthe CIDRs in the list.")),Object(i.b)(r.a,{common:!0,defaultValue:null,enumValues:null,examples:[{"message.regex":" (any|of|these|five|words) "}],groups:[],name:"`[field_name]`.regex",path:"outputs.conditions",relevantWhen:{type:"check_fields"},required:!1,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h5",{id:"field_nameregex"},Object(i.b)("inlineCode",{parentName:"h5"},"[field_name]"),".regex"),Object(i.b)("p",null,"Checks whether a string field matches a ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://en.wikipedia.org/wiki/Regular_expression"}),"regular expression"),".\nVector uses the ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.rs/regex/1.3.6/regex/#syntax"}),"documented Rust Regex syntax"),". Note\nthat this condition is considerably more expensive than a regular string match\n(such as ",Object(i.b)("inlineCode",{parentName:"p"},"starts_with")," or ",Object(i.b)("inlineCode",{parentName:"p"},"contains"),") so the use of those conditions are\npreferred where possible.")),Object(i.b)(r.a,{common:!0,defaultValue:null,enumValues:null,examples:[{"environment.starts_with":"staging-"},{"environment.starts_with":["staging-","running-"]}],groups:[],name:"`[field_name]`.starts_with",path:"outputs.conditions",relevantWhen:{type:"check_fields"},required:!1,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h5",{id:"field_namestarts_with"},Object(i.b)("inlineCode",{parentName:"h5"},"[field_name]"),".starts_with"),Object(i.b)("p",null,"Checks whether a string field starts with a string argument. This may be a\nsingle string or a list of strings, in which case this evaluates to true if any\nof the list matches.")))),Object(i.b)(r.a,{common:!0,defaultValue:null,enumValues:null,examples:["foo"],groups:[],name:"extract_from",path:"outputs",relevantWhen:null,required:!0,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h4",{id:"extract_from"},"extract_from"),Object(i.b)("p",null,"The name of a transform, at the end of the test events extracted from this\ntransform will be checked against a table of conditions."))))))}h.isMDXComponent=!0},940:function(e,t,n){"use strict";var a=n(0),l=n.n(a),i=n(938),s=n(936),r=n.n(s);n(93);var o=function({className:e,size:t,style:n,text:a}){return l.a.createElement(i.a,{to:"/vic/",className:r()("vic","vic--"+t,e)},l.a.createElement("div",{className:"icon"},l.a.createElement("img",{src:`/img/vicmojis/vic${n}.svg`,alt:"Vic - The Vector Mascot"})),a&&l.a.createElement("div",{className:"text"},a))};t.a=function({text:e}){return l.a.createElement("section",{className:"empty"},l.a.createElement(o,{style:"no",text:e}))}},942:function(e,t,n){"use strict";n(12);var a=n(0),l=n.n(a),i=n(951),s=n.n(i);t.a=function({currentState:e,humanize:t,icon:n,name:a,setState:i,values:r}){if(0==r.size)return null;let o=Array.from(r);return l.a.createElement(l.a.Fragment,null,o.map((r,o)=>{let u="string"==typeof r&&t?s()(r):r;return l.a.createElement("label",{key:o},l.a.createElement("input",{checked:e.has(r),name:a,onChange:t=>{let n=new Set(e);t.currentTarget.checked?n.add(r):n.delete(r),i(n)},type:"checkbox"}),u&&l.a.createElement(l.a.Fragment,null,n?l.a.createElement("i",{className:"feather icon-"+n}):""," ",u))}))}},945:function(e,t,n){"use strict";n(12);var a=n(0),l=n.n(a),i=n(942),s=n(940),r=n(949),o=n.n(r);t.a=function({children:e,filters:t}){const[n,r]=Object(a.useState)(!1),[u,c]=Object(a.useState)(new Set),[m,p]=Object(a.useState)(!1),[d,h]=Object(a.useState)(null);let b=[];e&&(b=Array.isArray(e)?e:[e]);let g=b.some(e=>e.props.common),f=o()(b).flatMap(e=>e.props.groups).uniq().value(),y=b.some(e=>e.props.required),O=b;return n&&(O=O.filter(e=>e.props.common)),u.size>0&&(O=O.filter(e=>Array.from(u).every(t=>e.props.groups.includes(t)))),m&&(O=O.filter(e=>e.props.required)),d&&(O=O.filter(e=>e.props.name.toLowerCase().includes(d.toLowerCase()))),l.a.createElement(l.a.Fragment,null,b.length>1&&!1!==t?l.a.createElement("div",{className:"filters"},l.a.createElement("div",{className:"search"},l.a.createElement("span",{className:"search--result-count"},O.length," items"),l.a.createElement("input",{className:"input--text input--lg",type:"text",onChange:e=>h(e.currentTarget.value),placeholder:"\ud83d\udd0d Search..."})),l.a.createElement("div",{className:"filter"},l.a.createElement("div",{className:"filter--choices"},l.a.createElement(i.a,{values:f,currentState:u,setState:c}),g&&l.a.createElement("label",{title:"Only show popular/common results"},l.a.createElement("input",{type:"checkbox",onChange:e=>r(e.currentTarget.checked),checked:n}),"common"),y&&l.a.createElement("label",{title:"Only show required results"},l.a.createElement("input",{type:"checkbox",onChange:e=>p(e.currentTarget.checked),checked:m}),"required")))):null,!Array.isArray(O)||O.length>0?l.a.createElement("ul",{className:"connected-list"},O):l.a.createElement(s.a,{text:"no components found"}))}},946:function(e,t,n){"use strict";n(12);var a=n(0),l=n.n(a),i=n(936),s=n.n(i),r=(n(928),n(952));function o(e){return e.includes(".")?'"'+e+'"':e}function u(e){return"string"==typeof e&&e.includes("\n")?`"""\n${e}\n"""`:JSON.stringify(e)}function c(e,t){return(n=t)&&n.constructor===Object?"name"in t&&"value"in t?`${o(t.name)} = ${u(t.value)}`:`${o(Object.keys(t)[0])} = ${u(Object.values(t)[0])}`:e?`${o(e)} = ${u(t)}`:u(t);var n}function m({values:e}){let t=[];if(Array.isArray(e))for(var n in e){let a=e[n];t.push(l.a.createElement("code",{key:a},u(a))),t.push(" ")}else for(var a in e)t.push(l.a.createElement("code",{key:a,className:"with-info-icon",title:e[a]},u(a))),t.push(" ");return t}function p({name:e,path:t,values:n}){let a="";return n.forEach((function(n){t&&(a+=t+"."),a+=c(e,n)+"\n"})),l.a.createElement("div",null,l.a.createElement(r.a,{className:"language-toml"},a))}function d({unit:e,value:t}){let n="";return e&&(n=l.a.createElement(l.a.Fragment,null," (",e,")")),l.a.createElement(l.a.Fragment,null,l.a.createElement("code",null,u(t)),n)}function h({value:e}){let t=Object.keys(e)[0],n=Object.values(e)[0];return""==n&&(n=null),l.a.createElement("span",null,l.a.createElement("code",null,l.a.createElement("a",{href:"#"+t},t))," ","= ",l.a.createElement("code",null,u(n)))}function b({defaultValue:e,enumValues:t,examples:n,groups:i,name:s,path:r,relevantWhen:o,required:u,unit:c,warnings:b}){const[g,f]=Object(a.useState)(!1);return l.a.createElement("ul",{className:"info"},b&&b.length>0&&b.map((e,t)=>l.a.createElement("li",{key:t,className:"warning"},l.a.createElement("i",{className:"feather icon-alert-triangle"})," WARNING:"," ",e.text)),o&&l.a.createElement("li",null,"Only ",u?"required":"relevant"," when:"," ",l.a.createElement(h,{value:o})),void 0!==e?null!==e?l.a.createElement("li",null,"Default: ",l.a.createElement(d,{unit:c,value:e})):l.a.createElement("li",null,"No default"):null,t&&l.a.createElement("li",null,"Enum, must be one of: ",l.a.createElement(m,{values:t})),(n.length>1||n[0]!=e)&&l.a.createElement("li",null,l.a.createElement("div",{className:"show-more",onClick:()=>f(!g)},g?"Hide examples":"View examples"),g&&l.a.createElement(p,{name:s,path:r,values:n})))}t.a=function({children:e,common:t,defaultValue:n,enumValues:i,examples:r,groups:o,name:u,path:c,relevantWhen:m,required:p,templateable:d,type:h,unit:g,warnings:f}){const[y,O]=Object(a.useState)(!1);let v=e;return y&&(v=v.filter(e=>"p"!=e.props.originalType)),l.a.createElement("li",{className:s()({"field-required":p,"field-collapsed":y}),required:p},l.a.createElement("div",{className:"badges"},d&&l.a.createElement("span",{className:"badge badge--primary with-info-icon",title:"This option is dynamic and accepts the Vector template syntax"},"templateable"),h&&l.a.createElement("span",{className:"badge badge--secondary"},h,g&&l.a.createElement(l.a.Fragment,null," (",g,")")),i&&Object.keys(i).length>0&&l.a.createElement("span",{className:"badge badge--secondary with-info-icon",title:"This option is an enumation and only allows specific values"},"enum"),t&&l.a.createElement("span",{className:"badge badge--primary with-info-icon",title:"This is a popular that we recommend for getting started"},"common"),p?l.a.createElement("span",{className:"badge badge--danger"},"required",m&&"*"):l.a.createElement("span",{className:"badge badge--secondary"},"optional")),v,!y&&"table"!=h&&l.a.createElement(b,{defaultValue:n,enumValues:i,examples:r,groups:o,name:u,path:c,relevantWhen:m,required:p,unit:g,warnings:f}))}}}]);