(window.webpackJsonp=window.webpackJsonp||[]).push([[218],{1139:function(e,t,n){"use strict";var r=n(24),a=n(13),i=n(27),o=n(84),s=n(85),l=n(26),c=n(1145),u=n(86);a(a.S+a.F*!n(81)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,a,m,p=i(e),f="function"==typeof this?this:Array,d=arguments.length,v=d>1?arguments[1]:void 0,b=void 0!==v,h=0,g=u(p);if(b&&(v=r(v,d>2?arguments[2]:void 0,2)),null==g||f==Array&&s(g))for(n=new f(t=l(p.length));t>h;h++)c(n,h,b?v(p[h],h):p[h]);else for(m=g.call(p),n=new f;!(a=m.next()).done;h++)c(n,h,b?o(m,v,[a.value,h],!0):a.value);return n.length=h,n}})},1140:function(e,t,n){"use strict";var r=n(1146),a=n(1141);e.exports=n(1147)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(a(this,"Set"),e=0===e?0:e,e)}},r)},1141:function(e,t,n){var r=n(12);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},1142:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1137),o=n(1136),s=n.n(o);n(131);t.a=function(e){var t=e.className,n=e.size,r=e.style,o=e.text;return a.a.createElement(i.a,{to:"/vic/",className:s()("vic","vic--"+n,t)},a.a.createElement("div",{className:"icon"},a.a.createElement("img",{src:"/img/vicmojis/vic"+r+".svg",alt:"Vic - The Vector Mascot"})),o&&a.a.createElement("div",{className:"text"},o))}},1144:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=(n(1137),n(1142));t.a=function(e){var t=e.text;return a.a.createElement("section",{className:"empty"},a.a.createElement(i.a,{style:"no",text:t}))}},1145:function(e,t,n){"use strict";var r=n(28),a=n(53);e.exports=function(e,t,n){t in e?r.f(e,t,a(0,n)):e[t]=n}},1146:function(e,t,n){"use strict";var r=n(28).f,a=n(82),i=n(80),o=n(24),s=n(78),l=n(79),c=n(54),u=n(83),m=n(87),p=n(10),f=n(1143).fastKey,d=n(1141),v=p?"_s":"size",b=function(e,t){var n,r=f(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var u=e((function(e,r){s(e,u,t,"_i"),e._t=t,e._i=a(null),e._f=void 0,e._l=void 0,e[v]=0,null!=r&&l(r,n,e[c],e)}));return i(u.prototype,{clear:function(){for(var e=d(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var n=d(this,t),r=b(n,e);if(r){var a=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=a),a&&(a.p=i),n._f==r&&(n._f=a),n._l==r&&(n._l=i),n[v]--}return!!r},forEach:function(e){d(this,t);for(var n,r=o(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!b(d(this,t),e)}}),p&&r(u.prototype,"size",{get:function(){return d(this,t)[v]}}),u},def:function(e,t,n){var r,a,i=b(e,t);return i?i.v=n:(e._l=i={i:a=f(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[v]++,"F"!==a&&(e._i[a]=i)),e},getEntry:b,setStrong:function(e,t,n){c(e,t,(function(e,n){this._t=d(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?u(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,u(1))}),n?"entries":"values",!n,!0),m(t)}}},1147:function(e,t,n){"use strict";var r=n(5),a=n(13),i=n(15),o=n(80),s=n(1143),l=n(79),c=n(78),u=n(12),m=n(14),p=n(81),f=n(39),d=n(1148);e.exports=function(e,t,n,v,b,h){var g=r[e],y=g,_=b?"set":"add",E=y&&y.prototype,O={},j=function(e){var t=E[e];i(E,e,"delete"==e||"has"==e?function(e){return!(h&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return h&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof y&&(h||E.forEach&&!m((function(){(new y).entries().next()})))){var N=new y,w=N[_](h?{}:-0,1)!=N,x=m((function(){N.has(1)})),S=p((function(e){new y(e)})),k=!h&&m((function(){for(var e=new y,t=5;t--;)e[_](t,t);return!e.has(-0)}));S||((y=t((function(t,n){c(t,y,e);var r=d(new g,t,y);return null!=n&&l(n,b,r[_],r),r}))).prototype=E,E.constructor=y),(x||k)&&(j("delete"),j("has"),b&&j("get")),(k||w)&&j(_),h&&E.clear&&delete E.clear}else y=v.getConstructor(t,e,b,_),o(y.prototype,n),s.NEED=!0;return f(y,e),O[e]=y,a(a.G+a.W+a.F*(y!=g),O),h||v.setStrong(y,e,b),y}},1148:function(e,t,n){var r=n(12),a=n(1149).set;e.exports=function(e,t,n){var i,o=t.constructor;return o!==n&&"function"==typeof o&&(i=o.prototype)!==n.prototype&&r(i)&&a&&a(e,i),e}},1149:function(e,t,n){var r=n(12),a=n(8),i=function(e,t){if(a(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(24)(Function.call,n(1163).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(a){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},1150:function(e,t,n){"use strict";n(1140),n(77),n(1139),n(25),n(20),n(19),n(1138);var r=n(0),a=n.n(r),i=n(1157),o=n.n(i);t.a=function(e){var t=e.currentState,n=e.humanize,r=e.icon,i=e.name,s=e.setState,l=e.values;if(0==l.size)return null;var c=Array.from(l);return a.a.createElement(a.a.Fragment,null,c.map((function(e,l){var c="string"==typeof e&&n?o()(e):e;return a.a.createElement("label",{key:l},a.a.createElement("input",{checked:t.has(e),name:i,onChange:function(n){var r=new Set(t);n.currentTarget.checked?r.add(e):r.delete(e),s(r)},type:"checkbox"}),c&&a.a.createElement(a.a.Fragment,null,r?a.a.createElement("i",{className:"feather icon-"+r}):""," ",c))})))}},1153:function(e,t,n){"use strict";var r=n(13),a=n(1154),i=n(27),o=n(26),s=n(29),l=n(1166);r(r.P,"Array",{flatMap:function(e){var t,n,r=i(this);return s(e),t=o(r.length),n=l(r,0),a(n,r,r,t,0,1,e,arguments[1]),n}}),n(88)("flatMap")},1154:function(e,t,n){"use strict";var r=n(1165),a=n(12),i=n(26),o=n(24),s=n(2)("isConcatSpreadable");e.exports=function e(t,n,l,c,u,m,p,f){for(var d,v,b=u,h=0,g=!!p&&o(p,f,3);h<c;){if(h in l){if(d=g?g(l[h],h,n):l[h],v=!1,a(d)&&(v=void 0!==(v=d[s])?!!v:r(d)),v&&m>0)b=e(t,n,d,i(d.length),b,m-1)-1;else{if(b>=9007199254740991)throw TypeError();t[b]=d}b++}h++}return b}},1155:function(e,t,n){"use strict";n(1138),n(1151),n(1152),n(1139),n(1153),n(25),n(20),n(19),n(77),n(1140);var r=n(0),a=n.n(r),i=n(1150),o=n(1144),s=n(1158),l=n.n(s);t.a=function(e){var t=e.children,n=e.filters,s=Object(r.useState)(!1),c=s[0],u=s[1],m=Object(r.useState)(new Set),p=m[0],f=m[1],d=Object(r.useState)(!1),v=d[0],b=d[1],h=Object(r.useState)(null),g=h[0],y=h[1],_=[];t&&(_=Array.isArray(t)?t:[t]);var E=_.some((function(e){return e.props.common})),O=l()(_).flatMap((function(e){return e.props.groups})).uniq().value(),j=_.some((function(e){return e.props.required})),N=_;return c&&(N=N.filter((function(e){return e.props.common}))),p.size>0&&(N=N.filter((function(e){return Array.from(p).every((function(t){return e.props.groups.includes(t)}))}))),v&&(N=N.filter((function(e){return e.props.required}))),g&&(N=N.filter((function(e){return e.props.name.toLowerCase().includes(g.toLowerCase())}))),a.a.createElement(a.a.Fragment,null,_.length>1&&!1!==n?a.a.createElement("div",{className:"filters"},a.a.createElement("div",{className:"search"},a.a.createElement("span",{className:"search--result-count"},N.length," items"),a.a.createElement("input",{className:"input--text input--lg",type:"text",onChange:function(e){return y(e.currentTarget.value)},placeholder:"\ud83d\udd0d Search..."})),a.a.createElement("div",{className:"filter"},a.a.createElement("div",{className:"filter--choices"},a.a.createElement(i.a,{values:O,currentState:p,setState:f}),E&&a.a.createElement("label",{title:"Only show popular/common results"},a.a.createElement("input",{type:"checkbox",onChange:function(e){return u(e.currentTarget.checked)},checked:c}),"common"),j&&a.a.createElement("label",{title:"Only show required results"},a.a.createElement("input",{type:"checkbox",onChange:function(e){return b(e.currentTarget.checked)},checked:v}),"required")))):null,!Array.isArray(N)||N.length>0?a.a.createElement("ul",{className:"connected-list"},N):a.a.createElement(o.a,{text:"no components found"}))}},1156:function(e,t,n){"use strict";n(89),n(25),n(20),n(19),n(52),n(1138),n(1151),n(1152);var r=n(0),a=n.n(r),i=n(1136),o=n.n(i),s=(n(1128),n(1167));function l(e){return e.includes(".")?'"'+e+'"':e}function c(e){return"string"==typeof e&&e.includes("\n")?'"""\n'+e+'\n"""':JSON.stringify(e)}function u(e,t){return(n=t)&&n.constructor===Object?"name"in t&&"value"in t?l(t.name)+" = "+c(t.value):l(Object.keys(t)[0])+" = "+c(Object.values(t)[0]):e?l(e)+" = "+c(t):c(t);var n}function m(e){var t=e.values,n=[];if(Array.isArray(t))for(var r in t){var i=t[r];n.push(a.a.createElement("code",{key:i},c(i))),n.push(" ")}else for(var o in t)n.push(a.a.createElement("code",{key:o,className:"with-info-icon",title:t[o]},c(o))),n.push(" ");return n}function p(e){var t=e.name,n=e.path,r=e.values,i="";return r.forEach((function(e){n&&(i+=n+"."),i+=u(t,e)+"\n"})),a.a.createElement("div",null,a.a.createElement(s.a,{className:"language-toml"},i))}function f(e){var t=e.unit,n=e.value,r="";return t&&(r=a.a.createElement(a.a.Fragment,null," (",t,")")),a.a.createElement(a.a.Fragment,null,a.a.createElement("code",null,c(n)),r)}function d(e){var t=e.value,n=Object.keys(t)[0],r=Object.values(t)[0];return""==r&&(r=null),a.a.createElement("span",null,a.a.createElement("code",null,a.a.createElement("a",{href:"#"+n},n))," ","= ",a.a.createElement("code",null,c(r)))}function v(e){var t=e.defaultValue,n=e.enumValues,i=e.examples,o=(e.groups,e.name),s=e.path,l=e.relevantWhen,c=e.required,u=e.unit,v=e.warnings,b=Object(r.useState)(!1),h=b[0],g=b[1];return a.a.createElement("ul",{className:"info"},v&&v.length>0&&v.map((function(e,t){return a.a.createElement("li",{key:t,className:"warning"},a.a.createElement("i",{className:"feather icon-alert-triangle"})," WARNING:"," ",e.text)})),l&&a.a.createElement("li",null,"Only ",c?"required":"relevant"," when:"," ",a.a.createElement(d,{value:l})),void 0!==t?null!==t?a.a.createElement("li",null,"Default: ",a.a.createElement(f,{unit:u,value:t})):a.a.createElement("li",null,"No default"):null,n&&a.a.createElement("li",null,"Enum, must be one of: ",a.a.createElement(m,{values:n})),(i.length>1||i[0]!=t)&&a.a.createElement("li",null,a.a.createElement("div",{className:"show-more",onClick:function(){return g(!h)}},h?"Hide examples":"View examples"),h&&a.a.createElement(p,{name:o,path:s,values:i})))}t.a=function(e){var t=e.children,n=e.common,i=e.defaultValue,s=e.enumValues,l=e.examples,c=e.groups,u=e.name,m=e.path,p=e.relevantWhen,f=e.required,d=e.templateable,b=e.type,h=e.unit,g=e.warnings,y=Object(r.useState)(!1),_=y[0],E=(y[1],t);return _&&(E=E.filter((function(e){return"p"!=e.props.originalType}))),a.a.createElement("li",{className:o()({"field-required":f,"field-collapsed":_}),required:f},a.a.createElement("div",{className:"badges"},d&&a.a.createElement("span",{className:"badge badge--primary with-info-icon",title:"This option is dynamic and accepts the Vector template syntax"},"templateable"),b&&a.a.createElement("span",{className:"badge badge--secondary"},b,h&&a.a.createElement(a.a.Fragment,null," (",h,")")),s&&Object.keys(s).length>0&&a.a.createElement("span",{className:"badge badge--secondary with-info-icon",title:"This option is an enumation and only allows specific values"},"enum"),n&&a.a.createElement("span",{className:"badge badge--primary with-info-icon",title:"This is a popular that we recommend for getting started"},"common"),f?a.a.createElement("span",{className:"badge badge--danger"},"required",p&&"*"):a.a.createElement("span",{className:"badge badge--secondary"},"optional")),E,!_&&"table"!=b&&a.a.createElement(v,{defaultValue:i,enumValues:s,examples:l,groups:c,name:u,path:m,relevantWhen:p,required:f,unit:h,warnings:g}))}},373:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return u})),n.d(t,"metadata",(function(){return m})),n.d(t,"rightToc",(function(){return p})),n.d(t,"default",(function(){return d}));var r=n(1),a=n(9),i=(n(0),n(1128)),o=n(1155),s=n(1156),l=n(1161),c=n(1160),u={last_modified_on:"2020-06-10",component_title:"ANSI Stripper",description:"The Vector `ansi_stripper` transform accepts and outputs `log` events, allowing you to strips ANSI escape sequences from the specified field.",event_types:["log"],function_category:"sanitize",issues_url:"https://github.com/timberio/vector/issues?q=is%3Aopen+is%3Aissue+label%3A%22transform%3A+ansi_stripper%22",operating_systems:["Linux","MacOS","Windows"],sidebar_label:'ansi_stripper|["log"]',source_url:"https://github.com/timberio/vector/tree/master/src/transforms/ansi_stripper.rs",status:"prod-ready",title:"ANSI Stripper Transform",unsupported_operating_systems:[]},m={id:"reference/transforms/ansi_stripper",title:"ANSI Stripper Transform",description:"The Vector `ansi_stripper` transform accepts and outputs `log` events, allowing you to strips ANSI escape sequences from the specified field.",source:"@site/docs/reference/transforms/ansi_stripper.md",permalink:"/docs/reference/transforms/ansi_stripper",editUrl:"https://github.com/timberio/vector/edit/master/website/docs/reference/transforms/ansi_stripper.md",sidebar_label:'ansi_stripper|["log"]',sidebar:"docs",previous:{title:"Add Tags Transform",permalink:"/docs/reference/transforms/add_tags"},next:{title:"AWS EC2 Metadata Transform",permalink:"/docs/reference/transforms/aws_ec2_metadata"}},p=[{value:"Configuration",id:"configuration",children:[{value:"field",id:"field",children:[]}]},{value:"How It Works",id:"how-it-works",children:[{value:"Complex Processing",id:"complex-processing",children:[]},{value:"Environment Variables",id:"environment-variables",children:[]},{value:"Field Notation Syntax",id:"field-notation-syntax",children:[]}]}],f={rightToc:p};function d(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},f,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"The Vector ",Object(i.b)("inlineCode",{parentName:"p"},"ansi_stripper")," transform\naccepts and outputs ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/about/data-model/log/"}),Object(i.b)("inlineCode",{parentName:"a"},"log"))," events, allowing you to strips\nANSI escape sequences from the specified field."),Object(i.b)("h2",{id:"configuration"},"Configuration"),Object(i.b)(l.a,{block:!0,defaultValue:"common",values:[{label:"Common",value:"common"},{label:"Advanced",value:"advanced"}],mdxType:"Tabs"},Object(i.b)(c.a,{value:"common",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-toml",metastring:'title="vector.toml"',title:'"vector.toml"'}),'[transforms.my_transform_id]\n  type = "ansi_stripper" # required\n  inputs = ["my-source-or-transform-id"] # required\n  field = "message" # optional, default\n'))),Object(i.b)(c.a,{value:"advanced",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-toml",metastring:'title="vector.toml"',title:'"vector.toml"'}),'[transforms.my_transform_id]\n  type = "ansi_stripper" # required\n  inputs = ["my-source-or-transform-id"] # required\n  field = "message" # optional, default\n')))),Object(i.b)(o.a,{filters:!0,mdxType:"Fields"},Object(i.b)(s.a,{common:!0,defaultValue:"message",enumValues:null,examples:["message","parent.child","array[0]"],groups:[],name:"field",path:null,relevantWhen:null,required:!1,templateable:!1,type:"string",unit:null,warnings:[],mdxType:"Field"},Object(i.b)("h3",{id:"field"},"field"),Object(i.b)("p",null,"The target field to strip ANSI escape sequences from.\nSee ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"#field-notation-syntax"}),"Field Notation Syntax")," for more info."))),Object(i.b)("h2",{id:"how-it-works"},"How It Works"),Object(i.b)("h3",{id:"complex-processing"},"Complex Processing"),Object(i.b)("p",null,"If you encounter limitations with the ",Object(i.b)("inlineCode",{parentName:"p"},"ansi_stripper"),"\ntransform then we recommend using a ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"https://vector.dev/components/?functions%5B%5D=program"}),"runtime transform"),".\nThese transforms are designed for complex processing and give you the power of\nfull programming runtime."),Object(i.b)("h3",{id:"environment-variables"},"Environment Variables"),Object(i.b)("p",null,"Environment variables are supported through all of Vector's configuration.\nSimply add ",Object(i.b)("inlineCode",{parentName:"p"},"${MY_ENV_VAR}")," in your Vector configuration file and the variable\nwill be replaced before being evaluated."),Object(i.b)("p",null,"You can learn more in the\n",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/setup/configuration/#environment-variables"}),"Environment Variables")," section."),Object(i.b)("h3",{id:"field-notation-syntax"},"Field Notation Syntax"),Object(i.b)("p",null,"The ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"#field"}),Object(i.b)("inlineCode",{parentName:"a"},"field"))," options\nsupport ",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/reference/field-path-notation/"}),"Vector's field notation syntax"),",\nenabling access to root-level, nested, and array field values. For example:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{className:"language-toml",metastring:'title="vector.toml"',title:'"vector.toml"'}),'[transforms.my_ansi_stripper_transform_id]\n  # ...\n  field = "message"\n  field = "parent.child"\n  field = "array[0]"\n  # ...\n')),Object(i.b)("p",null,"You can learn more about Vector's field notation in the\n",Object(i.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/reference/field-path-notation/"}),"field notation reference"),"."))}d.isMDXComponent=!0}}]);