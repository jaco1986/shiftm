(window.webpackJsonp=window.webpackJsonp||[]).push([[378],{491:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return r})),a.d(t,"metadata",(function(){return s})),a.d(t,"rightToc",(function(){return b})),a.d(t,"default",(function(){return d}));var n=a(1),i=a(6),o=(a(0),a(924)),c=a(942),l=a(941),r={last_modified_on:"2020-06-09",title:"Validating",description:"How to validation Vector's configuration to ensure it is error free before applying it."},s={id:"administration/validating",title:"Validating",description:"How to validation Vector's configuration to ensure it is error free before applying it.",source:"@site/docs/administration/validating.md",permalink:"/docs/administration/validating"},b=[],p={rightToc:b};function d(e){var t=e.components,a=Object(i.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},p,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Vector provides a subcommand ",Object(o.b)("inlineCode",{parentName:"p"},"validate")," which checks the validity of any number\nof configuration files and then exits:"),Object(o.b)(c.a,{block:!0,defaultValue:"all",values:[{label:"All Checks",value:"all"},{label:"Config Only",value:"config"}],mdxType:"Tabs"},Object(o.b)(l.a,{value:"all",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"vector validate /etc/vector/vector.toml\n"))),Object(o.b)(l.a,{value:"config",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"vector validate --no-environment --no-topology /etc/vector/*.toml\n")))),Object(o.b)("p",null,"The validate subcommand checks the correctness of fields for components defined\nwithin a configuration file, including:"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"All ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/reference/sources/"}),"sources"),", ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/reference/transforms/"}),"transforms"),", and\n",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/reference/sinks/"}),"sinks")," include all non-optional fields."),Object(o.b)("li",{parentName:"ol"},"All fields are of the proper ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/setup/configuration/#types"}),"type"),".")),Object(o.b)("p",null,"The following group of checks verifies that the configuration file contains a valid topology,\ndisabled with flags such as ",Object(o.b)("inlineCode",{parentName:"p"},"--no-topology"),", expanding the above checks with the following:"),Object(o.b)("ol",{start:3},Object(o.b)("li",{parentName:"ol"},"At least one ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/reference/sources/"}),"source")," is defined."),Object(o.b)("li",{parentName:"ol"},"At least one ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/reference/sinks/"}),"sink")," is defined."),Object(o.b)("li",{parentName:"ol"},"All ",Object(o.b)("inlineCode",{parentName:"li"},"inputs")," values contain at least one value (cannot be empty)."),Object(o.b)("li",{parentName:"ol"},"All ",Object(o.b)("inlineCode",{parentName:"li"},"inputs")," values reference valid and upstream ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/reference/sources/"}),"source")," or\n",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/reference/transforms/"}),"transform")," components.")),Object(o.b)("p",null,"The following group of checks require the runtime environment to pass successfully,\ndisabled with flags such as ",Object(o.b)("inlineCode",{parentName:"p"},"--no-environment"),", expanding the above checks with the following:"),Object(o.b)("ol",{start:7},Object(o.b)("li",{parentName:"ol"},"All components are capable of running (data directories exist, are writable, etc)."),Object(o.b)("li",{parentName:"ol"},"All ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"/docs/reference/sinks/"}),"sinks")," are able to connect to their targets.")),Object(o.b)("p",null,"If validation fails, Vector will exit with a ",Object(o.b)("inlineCode",{parentName:"p"},"78"),", and if validation succeeds\nVector will exit with a ",Object(o.b)("inlineCode",{parentName:"p"},"0"),"."),Object(o.b)("p",null,"To see other customization options for the ",Object(o.b)("inlineCode",{parentName:"p"},"validate")," subcommand run\n",Object(o.b)("inlineCode",{parentName:"p"},"vector validate --help"),"."))}d.isMDXComponent=!0}}]);